Dynamic Client Registration Conformance Tool cli
Error checking for updates: version not set
=== Scenario: DCR-001 - Validate OIDC Config Registration URL
	Test case: Validate Registration URL
		PASS Registration Endpoint Validate
=== Scenario: DCR-002 - Dynamically create a new software client
	Test case: Register software client
		PASS Generate signed software client claims
2019/11/26 10:45:58 getting claims from authoriser
2019/11/26 10:45:58 setting signed claims in context var: jwt_claims
		PASS Software client register
2019/11/26 10:45:58 get jwt claims from ctx var: jwt_claims
2019/11/26 10:45:58 request:
 POST /dynamic-client-registration/v3.1/register HTTP/1.1
Host: ob19-rs1.o3bank.co.uk:4501
Accept: application/json
Content-Type: application/jwt

eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBsaWNhdGlvbl90eXBlIjoid2ViIiwiYXVkIjoiaHR0cHM6Ly9vYjE5LWF1dGgxLXVpLm8zYmFuay5jby51ayIsImV4cCI6MTU3NDc2ODc1OCwiZ3JhbnRfdHlwZXMiOlsiYXV0aG9yaXphdGlvbl9jb2RlIiwiY2xpZW50X2NyZWRlbnRpYWxzIl0sImlhdCI6MTU3NDc2NTE1OCwiaWRfdG9rZW5fc2lnbmVkX3Jlc3BvbnNlX2FsZyI6IlJTMjU2IiwiaXNzIjoiUWV5YjlUQzBJekx5bXBBOW1Lb1NRMCIsImp0aSI6IjRiMjkzNTU0LWZiM2MtNDQwYS04MjBhLWQxMGQzODI2OTMwZiIsImtpZCI6IllxTDFTMU1Wc2lrbmtvTnBBTWNYWHVpMFZPUSIsInJlZGlyZWN0X3VyaXMiOlsiaHR0cHM6Ly8wLjAuMC4wOjg0NDMvY29uZm9ybWFuY2VzdWl0ZS9jYWxsYmFjayJdLCJyZXF1ZXN0X29iamVjdF9zaWduaW5nX2FsZyI6Im5vbmUiLCJyZXNwb25zZV90eXBlcyI6WyJjb2RlIiwiY29kZSBpZF90b2tlbiJdLCJzY29wZSI6ImFjY291bnRzIG9wZW5pZCIsInNvZnR3YXJlX3N0YXRlbWVudCI6ImV5SmhiR2NpT2lKUVV6STFOaUlzSW10cFpDSTZJbVJUTTBoRmVuTjVWa3BQVEhwUlZraEpWV3RQU2tVeVNYRnJiVE41U0dJMFFsbGZVR0pDUlZSWGFsazlJaXdpZEhsd0lqb2lTbGRVSW4wLmV5SnBjM01pT2lKUGNHVnVRbUZ1YTJsdVp5Qk1kR1FpTENKcFlYUWlPakUxTmpVNE5qTTJOamNzSW1wMGFTSTZJalU1TTJRd1lqaGtZV1psWWpRd01UY2lMQ0p6YjJaMGQyRnlaVjlsYm5acGNtOXViV1Z1ZENJNkluTmhibVJpYjNnaUxDSnpiMlowZDJGeVpWOXRiMlJsSWpvaVZHVnpkQ0lzSW5OdlpuUjNZWEpsWDJsa0lqb2lVV1Y1WWpsVVF6Qkpla3g1YlhCQk9XMUxiMU5STUNJc0luTnZablIzWVhKbFgyTnNhV1Z1ZEY5cFpDSTZJbEZsZVdJNVZFTXdTWHBNZVcxd1FUbHRTMjlUVVRBaUxDSnpiMlowZDJGeVpWOWpiR2xsYm5SZmJtRnRaU0k2SW5CeVlYWmxaVzVmWm1OelgzUmxjM1FpTENKemIyWjBkMkZ5WlY5amJHbGxiblJmWkdWelkzSnBjSFJwYjI0aU9pSlRVMEVnWm05eUlGQnlZWFpsWlc0Z2RHOGdkR1Z6ZENCMGFHVWdSblZ1WTNScGIyNWhiQ0JEYjI1bWIzSnRZVzVqWlNCVGRXbDBaU0JoWjJGcGJuTjBJSFpoY21sdmRYTWdRVk5RVTFCekxpSXNJbk52Wm5SM1lYSmxYM1psY25OcGIyNGlPakF1TVN3aWMyOW1kSGRoY21WZlkyeHBaVzUwWDNWeWFTSTZJbWgwZEhCek9pOHZkM2QzTG1WNFlXMXdiR1V1WTI5dElpd2ljMjltZEhkaGNtVmZjbVZrYVhKbFkzUmZkWEpwY3lJNld5Sm9kSFJ3Y3pvdkx6QXVNQzR3TGpBNk9EUTBNeTlqYjI1bWIzSnRZVzVqWlhOMWFYUmxMMk5oYkd4aVlXTnJJaXdpYUhSMGNITTZMeTh4TWpjdU1DNHdMakU2T0RRME15OWpiMjVtYjNKdFlXNWpaWE4xYVhSbEwyTmhiR3hpWVdOcklpd2lhSFIwY0hNNkx5OXNiMk5oYkdodmMzUTZPRFEwTXk5amIyNW1iM0p0WVc1alpYTjFhWFJsTDJOaGJHeGlZV05ySWwwc0luTnZablIzWVhKbFgzSnZiR1Z6SWpwYklrRkpVMUFpTENKUVNWTlFJaXdpUTBKUVNVa2lYU3dpYjNKbllXNXBjMkYwYVc5dVgyTnZiWEJsZEdWdWRGOWhkWFJvYjNKcGRIbGZZMnhoYVcxeklqcDdJbUYxZEdodmNtbDBlVjlwWkNJNklrOUNSMEpTSWl3aWNtVm5hWE4wY21GMGFXOXVYMmxrSWpvaVZXNXJibTkzYmpBd01UVTRNREF3TURFd05ERlNZa0ZCU1NJc0luTjBZWFIxY3lJNklrRmpkR2wyWlNJc0ltRjFkR2h2Y21sellYUnBiMjV6SWpwYmV5SnRaVzFpWlhKZmMzUmhkR1VpT2lKSFFpSXNJbkp2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFgwc2V5SnRaVzFpWlhKZmMzUmhkR1VpT2lKSlJTSXNJbkp2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFgwc2V5SnRaVzFpWlhKZmMzUmhkR1VpT2lKT1RDSXNJbkp2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFgxZGZTd2ljMjltZEhkaGNtVmZiRzluYjE5MWNta2lPaUpvZEhSd2N6b3ZMM2QzZHk1bGVHRnRjR3hsTG1OdmJTOXNiMmR2SWl3aWIzSm5YM04wWVhSMWN5STZJa0ZqZEdsMlpTSXNJbTl5WjE5cFpDSTZJakF3TVRVNE1EQXdNREV3TkRGU1lrRkJTU0lzSW05eVoxOXVZVzFsSWpvaVQzQmxiaUJDWVc1cmFXNW5JRXhwYldsMFpXUWdLRUVwSWl3aWIzSm5YMk52Ym5SaFkzUnpJanBiZXlKdVlXMWxJam9pVkdWamFHNXBZMkZzSWl3aVpXMWhhV3dpT2lKMFpXTm9hVzVqWVd3eE5UWTFNamN6TXpZMVFIUmxjM1F1WTI5dElpd2ljR2h2Ym1VaU9pSXhOVFkxTWpjek16WTFJaXdpZEhsd1pTSTZJbFJsWTJodWFXTmhiQ0o5TEhzaWJtRnRaU0k2SWtKMWMybHVaWE56SWl3aVpXMWhhV3dpT2lKaWRYTnBibVZ6YzJ4dmVqRTFOalV5TnpNek5qUkFkR1Z6ZEM1amIyMGlMQ0p3YUc5dVpTSTZJakUxTmpVeU56TXpOalFpTENKMGVYQmxJam9pUW5WemFXNWxjM01pZlYwc0ltOXlaMTlxZDJ0elgyVnVaSEJ2YVc1MElqb2lhSFIwY0hNNkx5OXJaWGx6ZEc5eVpTNXZjR1Z1WW1GdWEybHVaM1JsYzNRdWIzSm5MblZyTHpBd01UVTRNREF3TURFd05ERlNZa0ZCU1M4d01ERTFPREF3TURBeE1EUXhVbUpCUVVrdWFuZHJjeUlzSW05eVoxOXFkMnR6WDNKbGRtOXJaV1JmWlc1a2NHOXBiblFpT2lKb2RIUndjem92TDJ0bGVYTjBiM0psTG05d1pXNWlZVzVyYVc1bmRHVnpkQzV2Y21jdWRXc3ZNREF4TlRnd01EQXdNVEEwTVZKaVFVRkpMM0psZG05clpXUXZNREF4TlRnd01EQXdNVEEwTVZKaVFVRkpMbXAzYTNNaUxDSnpiMlowZDJGeVpWOXFkMnR6WDJWdVpIQnZhVzUwSWpvaWFIUjBjSE02THk5clpYbHpkRzl5WlM1dmNHVnVZbUZ1YTJsdVozUmxjM1F1YjNKbkxuVnJMekF3TVRVNE1EQXdNREV3TkRGU1lrRkJTUzlSWlhsaU9WUkRNRWw2VEhsdGNFRTViVXR2VTFFd0xtcDNhM01pTENKemIyWjBkMkZ5WlY5cWQydHpYM0psZG05clpXUmZaVzVrY0c5cGJuUWlPaUpvZEhSd2N6b3ZMMnRsZVhOMGIzSmxMbTl3Wlc1aVlXNXJhVzVuZEdWemRDNXZjbWN1ZFdzdk1EQXhOVGd3TURBd01UQTBNVkppUVVGSkwzSmxkbTlyWldRdlVXVjVZamxVUXpCSmVreDViWEJCT1cxTGIxTlJNQzVxZDJ0eklpd2ljMjltZEhkaGNtVmZjRzlzYVdONVgzVnlhU0k2SW1oMGRIQnpPaTh2ZDNkM0xtVjRZVzF3YkdVdVkyOXRMM0J2YkdsamVTSXNJbk52Wm5SM1lYSmxYM1J2YzE5MWNta2lPaUpvZEhSd2N6b3ZMM2QzZHk1bGVHRnRjR3hsTG1OdmJTOTBiM01pTENKemIyWjBkMkZ5WlY5dmJsOWlaV2hoYkdaZmIyWmZiM0puSWpvaVVISmhkbVZsYmlCTWRHUWlmUS5wR0xpdFlzaGxOUGd0cV9oY2M3c0VQeDFMVUZyS0sySjlxNDY3YkdVYXEtSkZQSG1uTXg0REhaQUpGZklGbnJ0NFNCQzBSbW92RktESFpqdkdLX09QeTVzd3I3S2E2MzlVcmJFc3N4SFo5YVUwWkFPeEViUExpOHlPUWdWYl8zSG1ZenRuTUVEbjh0LW9UdUt3VV8zRGlwaUhjTW9XV2d5d29qYVpZSFRtTmRmX01USFZ5dldGRlJ4WTAzSHdJajlNYmZidU55cGZjZTJJSWhYUEN2QlRTdFBlRXZOVkFZRm9KXzRWNW1xTzZISXdUMkVqZDVWR2VNNkxrTl9uYWROZ0ZYUEN4dzBndmxvMWlSUHZqN2lnQUpTR21ueFZwaVJDQjdzYXVRejdYUk5wMnFJaEt6OEpvR3hIWEh5X1haeWJ4dE1LVy1ocGw5czJsb1cwaEt5dXciLCJzdWJqZWN0X3R5cGUiOiJwdWJsaWMiLCJ0bHNfY2xpZW50X2F1dGhfc3ViamVjdF9kbiI6IkNOPVFleWI5VEMwSXpMeW1wQTltS29TUTAsT1U9MDAxNTgwMDAwMTA0MVJiQUFJLE89T3BlbkJhbmtpbmcsQz1HQiIsInRva2VuX2VuZHBvaW50X2F1dGhfbWV0aG9kIjoidGxzX2NsaWVudF9hdXRoIiwidG9rZW5fZW5kcG9pbnRfYXV0aF9zaWduaW5nX2FsZyI6IlJTMjU2In0.QGarM6AhM6D3Sfs8fGgF8c7XfR2pPqN3_uD-Zi6fMLVRk0v1HDJ5yeNn4yXsWFaYM_pAZB04qC7RwmP68KXhooGI_pJfH2Ozxvm3GQHtgT-zJ9duHm3YPe-OYzpXYpbInaukhxNhO7eEvt6N5fGZhah5mqhaPQd0r8mPJXiieqgKYeUcB6BAWRzRznOzM941naI-6-mMgKKXlZFM5-eDaB8mdWESS-GADOQDYEkH45qNq8NUUTTly5-9YJakhN_ftlNjy43Ix0rF3kgYzwVJMcE64NB4RFr0NgpDpDb4HzTAykTI_aQFpPThn-PDClDGxfJMTMun-RcIe1efLTC5Kg
2019/11/26 10:45:58 making request
2019/11/26 10:45:58 request finished with response status code 201
2019/11/26 10:45:58 setting response object in context var: response
		PASS Assert status code 201
2019/11/26 10:45:58 get response object from ctx var: response
		PASS Decode client register response
2019/11/26 10:45:58 get response object from ctx var: response
2019/11/26 10:45:58 getting client
2019/11/26 10:45:58 register res: {"redirect_uris":["https://0.0.0.0:8443/conformancesuite/callback"],"grant_types":["authorization_code","client_credentials"],"response_types":["code","code id_token"],"scopes":["accounts","openid"],"token_endpoint_auth_method":["tls_client_auth"],"token_endpoint_auth_signing_alg":["RS256"],"id_token_signed_response_alg":"RS256","request_object_signing_alg":["none"],"tls_client_auth_subject_dn":"CN=Qeyb9TC0IzLympA9mKoSQ0,OU=0015800001041RbAAI,O=OpenBanking,C=GB","jwks_uri":"https://keystore.openbankingtest.org.uk/0015800001041RbAAI/Qeyb9TC0IzLympA9mKoSQ0.jwks","client_id":"a6c8f547-5123-4186-9052-5523df435c7e","client_secret":"a9a1869f-95a8-47c3-a94a-9f849f0cb3eb","client_id_issued_at":1574765158510,"client_secret_expires_at":0,"_id":"5ddd0266d8b52d04277bfab2"}
2019/11/26 10:45:58 setting software client in context var: software_client
	Test case: Retrieve client credentials grant
		PASS Client credentials grant
2019/11/26 10:45:58 request:
 POST /token HTTP/1.1
Host: ob19-auth1.o3bank.co.uk:4201
Content-Type: application/x-www-form-urlencoded

client_id=a6c8f547-5123-4186-9052-5523df435c7e&grant_type=client_credentials
2019/11/26 10:45:58 response:
 HTTP/1.1 200 OK
Content-Length: 94
Connection: keep-alive
Content-Type: application/json; charset=utf-8
Date: Tue, 26 Nov 2019 10:45:58 GMT
Etag: W/"5e-6yV4UBuKzEhCshIAfNpNwZjsYmI"
Server: nginx/1.14.1
X-Powered-By: Express

{"access_token":"25a60ecb-693a-4f7b-a509-93a2dcc3ef86","token_type":"Bearer","expires_in":300}
2019/11/26 10:45:58 setting client credentials token in context var: grant_token
	Test case: Delete software client
		PASS Software client delete
2019/11/26 10:45:58 request:
 DELETE /dynamic-client-registration/v3.1/register/a6c8f547-5123-4186-9052-5523df435c7e HTTP/1.1
Host: ob19-rs1.o3bank.co.uk:4501
Authorization: Bearer 25a60ecb-693a-4f7b-a509-93a2dcc3ef86


2019/11/26 10:45:58 response:
 HTTP/1.1 204 No Content
Connection: keep-alive
Date: Tue, 26 Nov 2019 10:45:58 GMT
Etag: W/"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk"
Server: nginx/1.14.1
X-Powered-By: Express


=== Scenario: DCR-003 - Delete software statement is supported
	Test case: Register software client
		PASS Generate signed software client claims
2019/11/26 10:45:58 getting claims from authoriser
2019/11/26 10:45:58 setting signed claims in context var: jwt_claims
		PASS Software client register
2019/11/26 10:45:58 get jwt claims from ctx var: jwt_claims
2019/11/26 10:45:58 request:
 POST /dynamic-client-registration/v3.1/register HTTP/1.1
Host: ob19-rs1.o3bank.co.uk:4501
Accept: application/json
Content-Type: application/jwt

eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBsaWNhdGlvbl90eXBlIjoid2ViIiwiYXVkIjoiaHR0cHM6Ly9vYjE5LWF1dGgxLXVpLm8zYmFuay5jby51ayIsImV4cCI6MTU3NDc2ODc1OCwiZ3JhbnRfdHlwZXMiOlsiYXV0aG9yaXphdGlvbl9jb2RlIiwiY2xpZW50X2NyZWRlbnRpYWxzIl0sImlhdCI6MTU3NDc2NTE1OCwiaWRfdG9rZW5fc2lnbmVkX3Jlc3BvbnNlX2FsZyI6IlJTMjU2IiwiaXNzIjoiUWV5YjlUQzBJekx5bXBBOW1Lb1NRMCIsImp0aSI6IjFmYzg4OGJiLTBmYmQtNGI0NC04MDY2LTAxNDNjZmI1ZjBhMyIsImtpZCI6IllxTDFTMU1Wc2lrbmtvTnBBTWNYWHVpMFZPUSIsInJlZGlyZWN0X3VyaXMiOlsiaHR0cHM6Ly8wLjAuMC4wOjg0NDMvY29uZm9ybWFuY2VzdWl0ZS9jYWxsYmFjayJdLCJyZXF1ZXN0X29iamVjdF9zaWduaW5nX2FsZyI6Im5vbmUiLCJyZXNwb25zZV90eXBlcyI6WyJjb2RlIiwiY29kZSBpZF90b2tlbiJdLCJzY29wZSI6ImFjY291bnRzIG9wZW5pZCIsInNvZnR3YXJlX3N0YXRlbWVudCI6ImV5SmhiR2NpT2lKUVV6STFOaUlzSW10cFpDSTZJbVJUTTBoRmVuTjVWa3BQVEhwUlZraEpWV3RQU2tVeVNYRnJiVE41U0dJMFFsbGZVR0pDUlZSWGFsazlJaXdpZEhsd0lqb2lTbGRVSW4wLmV5SnBjM01pT2lKUGNHVnVRbUZ1YTJsdVp5Qk1kR1FpTENKcFlYUWlPakUxTmpVNE5qTTJOamNzSW1wMGFTSTZJalU1TTJRd1lqaGtZV1psWWpRd01UY2lMQ0p6YjJaMGQyRnlaVjlsYm5acGNtOXViV1Z1ZENJNkluTmhibVJpYjNnaUxDSnpiMlowZDJGeVpWOXRiMlJsSWpvaVZHVnpkQ0lzSW5OdlpuUjNZWEpsWDJsa0lqb2lVV1Y1WWpsVVF6Qkpla3g1YlhCQk9XMUxiMU5STUNJc0luTnZablIzWVhKbFgyTnNhV1Z1ZEY5cFpDSTZJbEZsZVdJNVZFTXdTWHBNZVcxd1FUbHRTMjlUVVRBaUxDSnpiMlowZDJGeVpWOWpiR2xsYm5SZmJtRnRaU0k2SW5CeVlYWmxaVzVmWm1OelgzUmxjM1FpTENKemIyWjBkMkZ5WlY5amJHbGxiblJmWkdWelkzSnBjSFJwYjI0aU9pSlRVMEVnWm05eUlGQnlZWFpsWlc0Z2RHOGdkR1Z6ZENCMGFHVWdSblZ1WTNScGIyNWhiQ0JEYjI1bWIzSnRZVzVqWlNCVGRXbDBaU0JoWjJGcGJuTjBJSFpoY21sdmRYTWdRVk5RVTFCekxpSXNJbk52Wm5SM1lYSmxYM1psY25OcGIyNGlPakF1TVN3aWMyOW1kSGRoY21WZlkyeHBaVzUwWDNWeWFTSTZJbWgwZEhCek9pOHZkM2QzTG1WNFlXMXdiR1V1WTI5dElpd2ljMjltZEhkaGNtVmZjbVZrYVhKbFkzUmZkWEpwY3lJNld5Sm9kSFJ3Y3pvdkx6QXVNQzR3TGpBNk9EUTBNeTlqYjI1bWIzSnRZVzVqWlhOMWFYUmxMMk5oYkd4aVlXTnJJaXdpYUhSMGNITTZMeTh4TWpjdU1DNHdMakU2T0RRME15OWpiMjVtYjNKdFlXNWpaWE4xYVhSbEwyTmhiR3hpWVdOcklpd2lhSFIwY0hNNkx5OXNiMk5oYkdodmMzUTZPRFEwTXk5amIyNW1iM0p0WVc1alpYTjFhWFJsTDJOaGJHeGlZV05ySWwwc0luTnZablIzWVhKbFgzSnZiR1Z6SWpwYklrRkpVMUFpTENKUVNWTlFJaXdpUTBKUVNVa2lYU3dpYjNKbllXNXBjMkYwYVc5dVgyTnZiWEJsZEdWdWRGOWhkWFJvYjNKcGRIbGZZMnhoYVcxeklqcDdJbUYxZEdodmNtbDBlVjlwWkNJNklrOUNSMEpTSWl3aWNtVm5hWE4wY21GMGFXOXVYMmxrSWpvaVZXNXJibTkzYmpBd01UVTRNREF3TURFd05ERlNZa0ZCU1NJc0luTjBZWFIxY3lJNklrRmpkR2wyWlNJc0ltRjFkR2h2Y21sellYUnBiMjV6SWpwYmV5SnRaVzFpWlhKZmMzUmhkR1VpT2lKSFFpSXNJbkp2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFgwc2V5SnRaVzFpWlhKZmMzUmhkR1VpT2lKSlJTSXNJbkp2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFgwc2V5SnRaVzFpWlhKZmMzUmhkR1VpT2lKT1RDSXNJbkp2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFgxZGZTd2ljMjltZEhkaGNtVmZiRzluYjE5MWNta2lPaUpvZEhSd2N6b3ZMM2QzZHk1bGVHRnRjR3hsTG1OdmJTOXNiMmR2SWl3aWIzSm5YM04wWVhSMWN5STZJa0ZqZEdsMlpTSXNJbTl5WjE5cFpDSTZJakF3TVRVNE1EQXdNREV3TkRGU1lrRkJTU0lzSW05eVoxOXVZVzFsSWpvaVQzQmxiaUJDWVc1cmFXNW5JRXhwYldsMFpXUWdLRUVwSWl3aWIzSm5YMk52Ym5SaFkzUnpJanBiZXlKdVlXMWxJam9pVkdWamFHNXBZMkZzSWl3aVpXMWhhV3dpT2lKMFpXTm9hVzVqWVd3eE5UWTFNamN6TXpZMVFIUmxjM1F1WTI5dElpd2ljR2h2Ym1VaU9pSXhOVFkxTWpjek16WTFJaXdpZEhsd1pTSTZJbFJsWTJodWFXTmhiQ0o5TEhzaWJtRnRaU0k2SWtKMWMybHVaWE56SWl3aVpXMWhhV3dpT2lKaWRYTnBibVZ6YzJ4dmVqRTFOalV5TnpNek5qUkFkR1Z6ZEM1amIyMGlMQ0p3YUc5dVpTSTZJakUxTmpVeU56TXpOalFpTENKMGVYQmxJam9pUW5WemFXNWxjM01pZlYwc0ltOXlaMTlxZDJ0elgyVnVaSEJ2YVc1MElqb2lhSFIwY0hNNkx5OXJaWGx6ZEc5eVpTNXZjR1Z1WW1GdWEybHVaM1JsYzNRdWIzSm5MblZyTHpBd01UVTRNREF3TURFd05ERlNZa0ZCU1M4d01ERTFPREF3TURBeE1EUXhVbUpCUVVrdWFuZHJjeUlzSW05eVoxOXFkMnR6WDNKbGRtOXJaV1JmWlc1a2NHOXBiblFpT2lKb2RIUndjem92TDJ0bGVYTjBiM0psTG05d1pXNWlZVzVyYVc1bmRHVnpkQzV2Y21jdWRXc3ZNREF4TlRnd01EQXdNVEEwTVZKaVFVRkpMM0psZG05clpXUXZNREF4TlRnd01EQXdNVEEwTVZKaVFVRkpMbXAzYTNNaUxDSnpiMlowZDJGeVpWOXFkMnR6WDJWdVpIQnZhVzUwSWpvaWFIUjBjSE02THk5clpYbHpkRzl5WlM1dmNHVnVZbUZ1YTJsdVozUmxjM1F1YjNKbkxuVnJMekF3TVRVNE1EQXdNREV3TkRGU1lrRkJTUzlSWlhsaU9WUkRNRWw2VEhsdGNFRTViVXR2VTFFd0xtcDNhM01pTENKemIyWjBkMkZ5WlY5cWQydHpYM0psZG05clpXUmZaVzVrY0c5cGJuUWlPaUpvZEhSd2N6b3ZMMnRsZVhOMGIzSmxMbTl3Wlc1aVlXNXJhVzVuZEdWemRDNXZjbWN1ZFdzdk1EQXhOVGd3TURBd01UQTBNVkppUVVGSkwzSmxkbTlyWldRdlVXVjVZamxVUXpCSmVreDViWEJCT1cxTGIxTlJNQzVxZDJ0eklpd2ljMjltZEhkaGNtVmZjRzlzYVdONVgzVnlhU0k2SW1oMGRIQnpPaTh2ZDNkM0xtVjRZVzF3YkdVdVkyOXRMM0J2YkdsamVTSXNJbk52Wm5SM1lYSmxYM1J2YzE5MWNta2lPaUpvZEhSd2N6b3ZMM2QzZHk1bGVHRnRjR3hsTG1OdmJTOTBiM01pTENKemIyWjBkMkZ5WlY5dmJsOWlaV2hoYkdaZmIyWmZiM0puSWpvaVVISmhkbVZsYmlCTWRHUWlmUS5wR0xpdFlzaGxOUGd0cV9oY2M3c0VQeDFMVUZyS0sySjlxNDY3YkdVYXEtSkZQSG1uTXg0REhaQUpGZklGbnJ0NFNCQzBSbW92RktESFpqdkdLX09QeTVzd3I3S2E2MzlVcmJFc3N4SFo5YVUwWkFPeEViUExpOHlPUWdWYl8zSG1ZenRuTUVEbjh0LW9UdUt3VV8zRGlwaUhjTW9XV2d5d29qYVpZSFRtTmRmX01USFZ5dldGRlJ4WTAzSHdJajlNYmZidU55cGZjZTJJSWhYUEN2QlRTdFBlRXZOVkFZRm9KXzRWNW1xTzZISXdUMkVqZDVWR2VNNkxrTl9uYWROZ0ZYUEN4dzBndmxvMWlSUHZqN2lnQUpTR21ueFZwaVJDQjdzYXVRejdYUk5wMnFJaEt6OEpvR3hIWEh5X1haeWJ4dE1LVy1ocGw5czJsb1cwaEt5dXciLCJzdWJqZWN0X3R5cGUiOiJwdWJsaWMiLCJ0bHNfY2xpZW50X2F1dGhfc3ViamVjdF9kbiI6IkNOPVFleWI5VEMwSXpMeW1wQTltS29TUTAsT1U9MDAxNTgwMDAwMTA0MVJiQUFJLE89T3BlbkJhbmtpbmcsQz1HQiIsInRva2VuX2VuZHBvaW50X2F1dGhfbWV0aG9kIjoidGxzX2NsaWVudF9hdXRoIiwidG9rZW5fZW5kcG9pbnRfYXV0aF9zaWduaW5nX2FsZyI6IlJTMjU2In0.bTNzkTJ9OXSFISlKqo6kuRZXQ2LFGHuyldJcNET555UA1hkonSmO7V0Dz6M4cpXGDKCglu05fD87_u4uaAL60FdFX9Ol1QhDHPNLJXfBwJWeyQYtqh7t1EAvxcqh89MD0yOjI0k6KikLSOJHo0XTBbMiHwLkbbIk1Z0n2nabtLE0Cdm8vtbNQ2I6oHQP9dxL5oUwg4rMeRJTKxFx5hzXixaO4cib0o2Lx0mQp_M1HjTvPT3YRvf5GjyGQE4NUmsVT4XxbNhUxcR27s0oDxOG7XWZFz44luS0OxDtl4npmyiXVKkSZF4UV993t1Jge_3bYVv_xdoD_maa7sL1xFXN5Q
2019/11/26 10:45:58 making request
2019/11/26 10:45:58 request finished with response status code 201
2019/11/26 10:45:58 setting response object in context var: response
		PASS Assert status code 201
2019/11/26 10:45:58 get response object from ctx var: response
		PASS Decode client register response
2019/11/26 10:45:58 get response object from ctx var: response
2019/11/26 10:45:58 getting client
2019/11/26 10:45:58 register res: {"redirect_uris":["https://0.0.0.0:8443/conformancesuite/callback"],"grant_types":["authorization_code","client_credentials"],"response_types":["code","code id_token"],"scopes":["accounts","openid"],"token_endpoint_auth_method":["tls_client_auth"],"token_endpoint_auth_signing_alg":["RS256"],"id_token_signed_response_alg":"RS256","request_object_signing_alg":["none"],"tls_client_auth_subject_dn":"CN=Qeyb9TC0IzLympA9mKoSQ0,OU=0015800001041RbAAI,O=OpenBanking,C=GB","jwks_uri":"https://keystore.openbankingtest.org.uk/0015800001041RbAAI/Qeyb9TC0IzLympA9mKoSQ0.jwks","client_id":"f29b5e0d-aecf-4155-b60f-54beb24af5b7","client_secret":"0a45a270-ae55-4cd8-817d-317900a778bd","client_id_issued_at":1574765158806,"client_secret_expires_at":0,"_id":"5ddd0266d8b52d04277bfab5"}
2019/11/26 10:45:58 setting software client in context var: software_client
	Test case: Retrieve client credentials grant
		PASS Client credentials grant
2019/11/26 10:45:58 request:
 POST /token HTTP/1.1
Host: ob19-auth1.o3bank.co.uk:4201
Content-Type: application/x-www-form-urlencoded

client_id=f29b5e0d-aecf-4155-b60f-54beb24af5b7&grant_type=client_credentials
2019/11/26 10:45:58 response:
 HTTP/1.1 200 OK
Content-Length: 94
Connection: keep-alive
Content-Type: application/json; charset=utf-8
Date: Tue, 26 Nov 2019 10:45:58 GMT
Etag: W/"5e-0aHMUVTgeQdoBWq4a0xaYzOkR7k"
Server: nginx/1.14.1
X-Powered-By: Express

{"access_token":"a6cfadc1-f937-4b5c-9812-ca43676b44d9","token_type":"Bearer","expires_in":300}
2019/11/26 10:45:58 setting client credentials token in context var: grant_token
	Test case: Delete software client
		PASS Software client delete
2019/11/26 10:45:58 request:
 DELETE /dynamic-client-registration/v3.1/register/f29b5e0d-aecf-4155-b60f-54beb24af5b7 HTTP/1.1
Host: ob19-rs1.o3bank.co.uk:4501
Authorization: Bearer a6cfadc1-f937-4b5c-9812-ca43676b44d9


2019/11/26 10:45:58 response:
 HTTP/1.1 204 No Content
Connection: keep-alive
Date: Tue, 26 Nov 2019 10:45:58 GMT
Etag: W/"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk"
Server: nginx/1.14.1
X-Powered-By: Express


	Test case: Retrieve delete software client should fail
		PASS Software client retrieve
2019/11/26 10:45:58 request:
 GET /dynamic-client-registration/v3.1/register/f29b5e0d-aecf-4155-b60f-54beb24af5b7 HTTP/1.1
Host: ob19-rs1.o3bank.co.uk:4501
Authorization: Bearer a6cfadc1-f937-4b5c-9812-ca43676b44d9


		FAIL Assert status code 401: Expecting status code 401 but got 500
2019/11/26 10:45:58 get response object from ctx var: response
2019/11/26 10:45:58 response:
 HTTP/1.1 500 Internal Server Error
Content-Length: 225
Connection: keep-alive
Content-Type: application/json; charset=utf-8
Date: Tue, 26 Nov 2019 10:45:58 GMT
Etag: W/"e1-hQchVbjozcxTBdtcLoaBmyKJ4kA"
Server: nginx/1.14.1
X-Powered-By: Express

{"Code":"UK.OBIE.UnexpectedError","Message":"Client Id f29b5e0d-aecf-4155-b60f-54beb24af5b7 is invalid","Errors":[{"ErrorCode":"UK.OBIE.UnexpectedError","Message":"Client Id f29b5e0d-aecf-4155-b60f-54beb24af5b7 is invalid"}]}
=== Scenario: DCR-004 - Dynamically create a new software client will fail on invalid registration request
	Test case: Register software client fails on expired claims
		PASS Generate signed software client claims
2019/11/26 10:45:58 getting claims from authoriser
2019/11/26 10:45:58 setting signed claims in context var: jwt_claims
		PASS Software client register
2019/11/26 10:45:58 get jwt claims from ctx var: jwt_claims
2019/11/26 10:45:58 request:
 POST /dynamic-client-registration/v3.1/register HTTP/1.1
Host: ob19-rs1.o3bank.co.uk:4501
Accept: application/json
Content-Type: application/jwt

eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBsaWNhdGlvbl90eXBlIjoid2ViIiwiYXVkIjoiaHR0cHM6Ly9vYjE5LWF1dGgxLXVpLm8zYmFuay5jby51ayIsImV4cCI6MTU3NDc2MTU1OCwiZ3JhbnRfdHlwZXMiOlsiYXV0aG9yaXphdGlvbl9jb2RlIiwiY2xpZW50X2NyZWRlbnRpYWxzIl0sImlhdCI6MTU3NDc2NTE1OCwiaWRfdG9rZW5fc2lnbmVkX3Jlc3BvbnNlX2FsZyI6IlJTMjU2IiwiaXNzIjoiUWV5YjlUQzBJekx5bXBBOW1Lb1NRMCIsImp0aSI6IjBjMzZjNjU4LTE1NDUtNDllMy04NGQ2LTU4ZTk1ZmFjODMzYSIsImtpZCI6IllxTDFTMU1Wc2lrbmtvTnBBTWNYWHVpMFZPUSIsInJlZGlyZWN0X3VyaXMiOlsiaHR0cHM6Ly8wLjAuMC4wOjg0NDMvY29uZm9ybWFuY2VzdWl0ZS9jYWxsYmFjayJdLCJyZXF1ZXN0X29iamVjdF9zaWduaW5nX2FsZyI6Im5vbmUiLCJyZXNwb25zZV90eXBlcyI6WyJjb2RlIiwiY29kZSBpZF90b2tlbiJdLCJzY29wZSI6ImFjY291bnRzIG9wZW5pZCIsInNvZnR3YXJlX3N0YXRlbWVudCI6ImV5SmhiR2NpT2lKUVV6STFOaUlzSW10cFpDSTZJbVJUTTBoRmVuTjVWa3BQVEhwUlZraEpWV3RQU2tVeVNYRnJiVE41U0dJMFFsbGZVR0pDUlZSWGFsazlJaXdpZEhsd0lqb2lTbGRVSW4wLmV5SnBjM01pT2lKUGNHVnVRbUZ1YTJsdVp5Qk1kR1FpTENKcFlYUWlPakUxTmpVNE5qTTJOamNzSW1wMGFTSTZJalU1TTJRd1lqaGtZV1psWWpRd01UY2lMQ0p6YjJaMGQyRnlaVjlsYm5acGNtOXViV1Z1ZENJNkluTmhibVJpYjNnaUxDSnpiMlowZDJGeVpWOXRiMlJsSWpvaVZHVnpkQ0lzSW5OdlpuUjNZWEpsWDJsa0lqb2lVV1Y1WWpsVVF6Qkpla3g1YlhCQk9XMUxiMU5STUNJc0luTnZablIzWVhKbFgyTnNhV1Z1ZEY5cFpDSTZJbEZsZVdJNVZFTXdTWHBNZVcxd1FUbHRTMjlUVVRBaUxDSnpiMlowZDJGeVpWOWpiR2xsYm5SZmJtRnRaU0k2SW5CeVlYWmxaVzVmWm1OelgzUmxjM1FpTENKemIyWjBkMkZ5WlY5amJHbGxiblJmWkdWelkzSnBjSFJwYjI0aU9pSlRVMEVnWm05eUlGQnlZWFpsWlc0Z2RHOGdkR1Z6ZENCMGFHVWdSblZ1WTNScGIyNWhiQ0JEYjI1bWIzSnRZVzVqWlNCVGRXbDBaU0JoWjJGcGJuTjBJSFpoY21sdmRYTWdRVk5RVTFCekxpSXNJbk52Wm5SM1lYSmxYM1psY25OcGIyNGlPakF1TVN3aWMyOW1kSGRoY21WZlkyeHBaVzUwWDNWeWFTSTZJbWgwZEhCek9pOHZkM2QzTG1WNFlXMXdiR1V1WTI5dElpd2ljMjltZEhkaGNtVmZjbVZrYVhKbFkzUmZkWEpwY3lJNld5Sm9kSFJ3Y3pvdkx6QXVNQzR3TGpBNk9EUTBNeTlqYjI1bWIzSnRZVzVqWlhOMWFYUmxMMk5oYkd4aVlXTnJJaXdpYUhSMGNITTZMeTh4TWpjdU1DNHdMakU2T0RRME15OWpiMjVtYjNKdFlXNWpaWE4xYVhSbEwyTmhiR3hpWVdOcklpd2lhSFIwY0hNNkx5OXNiMk5oYkdodmMzUTZPRFEwTXk5amIyNW1iM0p0WVc1alpYTjFhWFJsTDJOaGJHeGlZV05ySWwwc0luTnZablIzWVhKbFgzSnZiR1Z6SWpwYklrRkpVMUFpTENKUVNWTlFJaXdpUTBKUVNVa2lYU3dpYjNKbllXNXBjMkYwYVc5dVgyTnZiWEJsZEdWdWRGOWhkWFJvYjNKcGRIbGZZMnhoYVcxeklqcDdJbUYxZEdodmNtbDBlVjlwWkNJNklrOUNSMEpTSWl3aWNtVm5hWE4wY21GMGFXOXVYMmxrSWpvaVZXNXJibTkzYmpBd01UVTRNREF3TURFd05ERlNZa0ZCU1NJc0luTjBZWFIxY3lJNklrRmpkR2wyWlNJc0ltRjFkR2h2Y21sellYUnBiMjV6SWpwYmV5SnRaVzFpWlhKZmMzUmhkR1VpT2lKSFFpSXNJbkp2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFgwc2V5SnRaVzFpWlhKZmMzUmhkR1VpT2lKSlJTSXNJbkp2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFgwc2V5SnRaVzFpWlhKZmMzUmhkR1VpT2lKT1RDSXNJbkp2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFgxZGZTd2ljMjltZEhkaGNtVmZiRzluYjE5MWNta2lPaUpvZEhSd2N6b3ZMM2QzZHk1bGVHRnRjR3hsTG1OdmJTOXNiMmR2SWl3aWIzSm5YM04wWVhSMWN5STZJa0ZqZEdsMlpTSXNJbTl5WjE5cFpDSTZJakF3TVRVNE1EQXdNREV3TkRGU1lrRkJTU0lzSW05eVoxOXVZVzFsSWpvaVQzQmxiaUJDWVc1cmFXNW5JRXhwYldsMFpXUWdLRUVwSWl3aWIzSm5YMk52Ym5SaFkzUnpJanBiZXlKdVlXMWxJam9pVkdWamFHNXBZMkZzSWl3aVpXMWhhV3dpT2lKMFpXTm9hVzVqWVd3eE5UWTFNamN6TXpZMVFIUmxjM1F1WTI5dElpd2ljR2h2Ym1VaU9pSXhOVFkxTWpjek16WTFJaXdpZEhsd1pTSTZJbFJsWTJodWFXTmhiQ0o5TEhzaWJtRnRaU0k2SWtKMWMybHVaWE56SWl3aVpXMWhhV3dpT2lKaWRYTnBibVZ6YzJ4dmVqRTFOalV5TnpNek5qUkFkR1Z6ZEM1amIyMGlMQ0p3YUc5dVpTSTZJakUxTmpVeU56TXpOalFpTENKMGVYQmxJam9pUW5WemFXNWxjM01pZlYwc0ltOXlaMTlxZDJ0elgyVnVaSEJ2YVc1MElqb2lhSFIwY0hNNkx5OXJaWGx6ZEc5eVpTNXZjR1Z1WW1GdWEybHVaM1JsYzNRdWIzSm5MblZyTHpBd01UVTRNREF3TURFd05ERlNZa0ZCU1M4d01ERTFPREF3TURBeE1EUXhVbUpCUVVrdWFuZHJjeUlzSW05eVoxOXFkMnR6WDNKbGRtOXJaV1JmWlc1a2NHOXBiblFpT2lKb2RIUndjem92TDJ0bGVYTjBiM0psTG05d1pXNWlZVzVyYVc1bmRHVnpkQzV2Y21jdWRXc3ZNREF4TlRnd01EQXdNVEEwTVZKaVFVRkpMM0psZG05clpXUXZNREF4TlRnd01EQXdNVEEwTVZKaVFVRkpMbXAzYTNNaUxDSnpiMlowZDJGeVpWOXFkMnR6WDJWdVpIQnZhVzUwSWpvaWFIUjBjSE02THk5clpYbHpkRzl5WlM1dmNHVnVZbUZ1YTJsdVozUmxjM1F1YjNKbkxuVnJMekF3TVRVNE1EQXdNREV3TkRGU1lrRkJTUzlSWlhsaU9WUkRNRWw2VEhsdGNFRTViVXR2VTFFd0xtcDNhM01pTENKemIyWjBkMkZ5WlY5cWQydHpYM0psZG05clpXUmZaVzVrY0c5cGJuUWlPaUpvZEhSd2N6b3ZMMnRsZVhOMGIzSmxMbTl3Wlc1aVlXNXJhVzVuZEdWemRDNXZjbWN1ZFdzdk1EQXhOVGd3TURBd01UQTBNVkppUVVGSkwzSmxkbTlyWldRdlVXVjVZamxVUXpCSmVreDViWEJCT1cxTGIxTlJNQzVxZDJ0eklpd2ljMjltZEhkaGNtVmZjRzlzYVdONVgzVnlhU0k2SW1oMGRIQnpPaTh2ZDNkM0xtVjRZVzF3YkdVdVkyOXRMM0J2YkdsamVTSXNJbk52Wm5SM1lYSmxYM1J2YzE5MWNta2lPaUpvZEhSd2N6b3ZMM2QzZHk1bGVHRnRjR3hsTG1OdmJTOTBiM01pTENKemIyWjBkMkZ5WlY5dmJsOWlaV2hoYkdaZmIyWmZiM0puSWpvaVVISmhkbVZsYmlCTWRHUWlmUS5wR0xpdFlzaGxOUGd0cV9oY2M3c0VQeDFMVUZyS0sySjlxNDY3YkdVYXEtSkZQSG1uTXg0REhaQUpGZklGbnJ0NFNCQzBSbW92RktESFpqdkdLX09QeTVzd3I3S2E2MzlVcmJFc3N4SFo5YVUwWkFPeEViUExpOHlPUWdWYl8zSG1ZenRuTUVEbjh0LW9UdUt3VV8zRGlwaUhjTW9XV2d5d29qYVpZSFRtTmRmX01USFZ5dldGRlJ4WTAzSHdJajlNYmZidU55cGZjZTJJSWhYUEN2QlRTdFBlRXZOVkFZRm9KXzRWNW1xTzZISXdUMkVqZDVWR2VNNkxrTl9uYWROZ0ZYUEN4dzBndmxvMWlSUHZqN2lnQUpTR21ueFZwaVJDQjdzYXVRejdYUk5wMnFJaEt6OEpvR3hIWEh5X1haeWJ4dE1LVy1ocGw5czJsb1cwaEt5dXciLCJzdWJqZWN0X3R5cGUiOiJwdWJsaWMiLCJ0bHNfY2xpZW50X2F1dGhfc3ViamVjdF9kbiI6IkNOPVFleWI5VEMwSXpMeW1wQTltS29TUTAsT1U9MDAxNTgwMDAwMTA0MVJiQUFJLE89T3BlbkJhbmtpbmcsQz1HQiIsInRva2VuX2VuZHBvaW50X2F1dGhfbWV0aG9kIjoidGxzX2NsaWVudF9hdXRoIiwidG9rZW5fZW5kcG9pbnRfYXV0aF9zaWduaW5nX2FsZyI6IlJTMjU2In0.MiEWNQsu75_B4JetAVGIYE6GY_794-IkV745aNVPL5XGeGLrUsXBUMSSmX0pXrP82OxDVzMNlsTdHSdPxA3VJOZ6gmt7H3D42e2MnSsCOK9tpsj0NjjUJRug1navAf4G3WLO2MK6J_ccbWv6jSlEhqG0WwtTld5-ov2IJUmIWyU9ZKwgj_j7KNh1pKJb9EEu94ZcK_B1fbbdf4c_TafdmuM3gWDDoOYifjK3VK0KA6zjfPqXdn2DhUffRwyPl1yk3LBwbBPKzVUSVJqGHQmzgKGlvMV2r4fhQSMONgo819BuH1RliMmC4v4V8qNK2bxLo7eHD2LwNpPqVj4_APIo9g
2019/11/26 10:45:58 making request
2019/11/26 10:45:58 request finished with response status code 400
2019/11/26 10:45:58 setting response object in context var: response
		PASS Assert status code 400
2019/11/26 10:45:58 get response object from ctx var: response
	Test case: Register software client fails on invalid issuer
		PASS Generate signed software client claims
2019/11/26 10:45:58 getting claims from authoriser
2019/11/26 10:45:58 setting signed claims in context var: jwt_claims
		PASS Software client register
2019/11/26 10:45:58 get jwt claims from ctx var: jwt_claims
2019/11/26 10:45:58 request:
 POST /dynamic-client-registration/v3.1/register HTTP/1.1
Host: ob19-rs1.o3bank.co.uk:4501
Accept: application/json
Content-Type: application/jwt

eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBsaWNhdGlvbl90eXBlIjoid2ViIiwiYXVkIjoiZm9vLmlzL2ludmFsaWQiLCJleHAiOjE1NzQ3Njg3NTgsImdyYW50X3R5cGVzIjpbImF1dGhvcml6YXRpb25fY29kZSIsImNsaWVudF9jcmVkZW50aWFscyJdLCJpYXQiOjE1NzQ3NjUxNTgsImlkX3Rva2VuX3NpZ25lZF9yZXNwb25zZV9hbGciOiJSUzI1NiIsImlzcyI6IlFleWI5VEMwSXpMeW1wQTltS29TUTAiLCJqdGkiOiIxMTc4MDIxMC0wYTVjLTRjOTEtYjU5Mi02NDdiYmRiOTU5NTYiLCJraWQiOiJZcUwxUzFNVnNpa25rb05wQU1jWFh1aTBWT1EiLCJyZWRpcmVjdF91cmlzIjpbImh0dHBzOi8vMC4wLjAuMDo4NDQzL2NvbmZvcm1hbmNlc3VpdGUvY2FsbGJhY2siXSwicmVxdWVzdF9vYmplY3Rfc2lnbmluZ19hbGciOiJub25lIiwicmVzcG9uc2VfdHlwZXMiOlsiY29kZSIsImNvZGUgaWRfdG9rZW4iXSwic2NvcGUiOiJhY2NvdW50cyBvcGVuaWQiLCJzb2Z0d2FyZV9zdGF0ZW1lbnQiOiJleUpoYkdjaU9pSlFVekkxTmlJc0ltdHBaQ0k2SW1SVE0waEZlbk41VmtwUFRIcFJWa2hKVld0UFNrVXlTWEZyYlRONVNHSTBRbGxmVUdKQ1JWUlhhbGs5SWl3aWRIbHdJam9pU2xkVUluMC5leUpwYzNNaU9pSlBjR1Z1UW1GdWEybHVaeUJNZEdRaUxDSnBZWFFpT2pFMU5qVTROak0yTmpjc0ltcDBhU0k2SWpVNU0yUXdZamhrWVdabFlqUXdNVGNpTENKemIyWjBkMkZ5WlY5bGJuWnBjbTl1YldWdWRDSTZJbk5oYm1SaWIzZ2lMQ0p6YjJaMGQyRnlaVjl0YjJSbElqb2lWR1Z6ZENJc0luTnZablIzWVhKbFgybGtJam9pVVdWNVlqbFVRekJKZWt4NWJYQkJPVzFMYjFOUk1DSXNJbk52Wm5SM1lYSmxYMk5zYVdWdWRGOXBaQ0k2SWxGbGVXSTVWRU13U1hwTWVXMXdRVGx0UzI5VFVUQWlMQ0p6YjJaMGQyRnlaVjlqYkdsbGJuUmZibUZ0WlNJNkluQnlZWFpsWlc1ZlptTnpYM1JsYzNRaUxDSnpiMlowZDJGeVpWOWpiR2xsYm5SZlpHVnpZM0pwY0hScGIyNGlPaUpUVTBFZ1ptOXlJRkJ5WVhabFpXNGdkRzhnZEdWemRDQjBhR1VnUm5WdVkzUnBiMjVoYkNCRGIyNW1iM0p0WVc1alpTQlRkV2wwWlNCaFoyRnBibk4wSUhaaGNtbHZkWE1nUVZOUVUxQnpMaUlzSW5OdlpuUjNZWEpsWDNabGNuTnBiMjRpT2pBdU1Td2ljMjltZEhkaGNtVmZZMnhwWlc1MFgzVnlhU0k2SW1oMGRIQnpPaTh2ZDNkM0xtVjRZVzF3YkdVdVkyOXRJaXdpYzI5bWRIZGhjbVZmY21Wa2FYSmxZM1JmZFhKcGN5STZXeUpvZEhSd2N6b3ZMekF1TUM0d0xqQTZPRFEwTXk5amIyNW1iM0p0WVc1alpYTjFhWFJsTDJOaGJHeGlZV05ySWl3aWFIUjBjSE02THk4eE1qY3VNQzR3TGpFNk9EUTBNeTlqYjI1bWIzSnRZVzVqWlhOMWFYUmxMMk5oYkd4aVlXTnJJaXdpYUhSMGNITTZMeTlzYjJOaGJHaHZjM1E2T0RRME15OWpiMjVtYjNKdFlXNWpaWE4xYVhSbEwyTmhiR3hpWVdOcklsMHNJbk52Wm5SM1lYSmxYM0p2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFN3aWIzSm5ZVzVwYzJGMGFXOXVYMk52YlhCbGRHVnVkRjloZFhSb2IzSnBkSGxmWTJ4aGFXMXpJanA3SW1GMWRHaHZjbWwwZVY5cFpDSTZJazlDUjBKU0lpd2ljbVZuYVhOMGNtRjBhVzl1WDJsa0lqb2lWVzVyYm05M2JqQXdNVFU0TURBd01ERXdOREZTWWtGQlNTSXNJbk4wWVhSMWN5STZJa0ZqZEdsMlpTSXNJbUYxZEdodmNtbHpZWFJwYjI1eklqcGJleUp0WlcxaVpYSmZjM1JoZEdVaU9pSkhRaUlzSW5KdmJHVnpJanBiSWtGSlUxQWlMQ0pRU1ZOUUlpd2lRMEpRU1VraVhYMHNleUp0WlcxaVpYSmZjM1JoZEdVaU9pSkpSU0lzSW5KdmJHVnpJanBiSWtGSlUxQWlMQ0pRU1ZOUUlpd2lRMEpRU1VraVhYMHNleUp0WlcxaVpYSmZjM1JoZEdVaU9pSk9UQ0lzSW5KdmJHVnpJanBiSWtGSlUxQWlMQ0pRU1ZOUUlpd2lRMEpRU1VraVhYMWRmU3dpYzI5bWRIZGhjbVZmYkc5bmIxOTFjbWtpT2lKb2RIUndjem92TDNkM2R5NWxlR0Z0Y0d4bExtTnZiUzlzYjJkdklpd2liM0puWDNOMFlYUjFjeUk2SWtGamRHbDJaU0lzSW05eVoxOXBaQ0k2SWpBd01UVTRNREF3TURFd05ERlNZa0ZCU1NJc0ltOXlaMTl1WVcxbElqb2lUM0JsYmlCQ1lXNXJhVzVuSUV4cGJXbDBaV1FnS0VFcElpd2liM0puWDJOdmJuUmhZM1J6SWpwYmV5SnVZVzFsSWpvaVZHVmphRzVwWTJGc0lpd2laVzFoYVd3aU9pSjBaV05vYVc1allXd3hOVFkxTWpjek16WTFRSFJsYzNRdVkyOXRJaXdpY0dodmJtVWlPaUl4TlRZMU1qY3pNelkxSWl3aWRIbHdaU0k2SWxSbFkyaHVhV05oYkNKOUxIc2libUZ0WlNJNklrSjFjMmx1WlhOeklpd2laVzFoYVd3aU9pSmlkWE5wYm1WemMyeHZlakUxTmpVeU56TXpOalJBZEdWemRDNWpiMjBpTENKd2FHOXVaU0k2SWpFMU5qVXlOek16TmpRaUxDSjBlWEJsSWpvaVFuVnphVzVsYzNNaWZWMHNJbTl5WjE5cWQydHpYMlZ1WkhCdmFXNTBJam9pYUhSMGNITTZMeTlyWlhsemRHOXlaUzV2Y0dWdVltRnVhMmx1WjNSbGMzUXViM0puTG5Wckx6QXdNVFU0TURBd01ERXdOREZTWWtGQlNTOHdNREUxT0RBd01EQXhNRFF4VW1KQlFVa3VhbmRyY3lJc0ltOXlaMTlxZDJ0elgzSmxkbTlyWldSZlpXNWtjRzlwYm5RaU9pSm9kSFJ3Y3pvdkwydGxlWE4wYjNKbExtOXdaVzVpWVc1cmFXNW5kR1Z6ZEM1dmNtY3VkV3N2TURBeE5UZ3dNREF3TVRBME1WSmlRVUZKTDNKbGRtOXJaV1F2TURBeE5UZ3dNREF3TVRBME1WSmlRVUZKTG1wM2EzTWlMQ0p6YjJaMGQyRnlaVjlxZDJ0elgyVnVaSEJ2YVc1MElqb2lhSFIwY0hNNkx5OXJaWGx6ZEc5eVpTNXZjR1Z1WW1GdWEybHVaM1JsYzNRdWIzSm5MblZyTHpBd01UVTRNREF3TURFd05ERlNZa0ZCU1M5UlpYbGlPVlJETUVsNlRIbHRjRUU1YlV0dlUxRXdMbXAzYTNNaUxDSnpiMlowZDJGeVpWOXFkMnR6WDNKbGRtOXJaV1JmWlc1a2NHOXBiblFpT2lKb2RIUndjem92TDJ0bGVYTjBiM0psTG05d1pXNWlZVzVyYVc1bmRHVnpkQzV2Y21jdWRXc3ZNREF4TlRnd01EQXdNVEEwTVZKaVFVRkpMM0psZG05clpXUXZVV1Y1WWpsVVF6Qkpla3g1YlhCQk9XMUxiMU5STUM1cWQydHpJaXdpYzI5bWRIZGhjbVZmY0c5c2FXTjVYM1Z5YVNJNkltaDBkSEJ6T2k4dmQzZDNMbVY0WVcxd2JHVXVZMjl0TDNCdmJHbGplU0lzSW5OdlpuUjNZWEpsWDNSdmMxOTFjbWtpT2lKb2RIUndjem92TDNkM2R5NWxlR0Z0Y0d4bExtTnZiUzkwYjNNaUxDSnpiMlowZDJGeVpWOXZibDlpWldoaGJHWmZiMlpmYjNKbklqb2lVSEpoZG1WbGJpQk1kR1FpZlEucEdMaXRZc2hsTlBndHFfaGNjN3NFUHgxTFVGcktLMko5cTQ2N2JHVWFxLUpGUEhtbk14NERIWkFKRmZJRm5ydDRTQkMwUm1vdkZLREhaanZHS19PUHk1c3dyN0thNjM5VXJiRXNzeEhaOWFVMFpBT3hFYlBMaTh5T1FnVmJfM0htWXp0bk1FRG44dC1vVHVLd1VfM0RpcGlIY01vV1dneXdvamFaWUhUbU5kZl9NVEhWeXZXRkZSeFkwM0h3SWo5TWJmYnVOeXBmY2UySUloWFBDdkJUU3RQZUV2TlZBWUZvSl80VjVtcU82SEl3VDJFamQ1VkdlTTZMa05fbmFkTmdGWFBDeHcwZ3ZsbzFpUlB2ajdpZ0FKU0dtbnhWcGlSQ0I3c2F1UXo3WFJOcDJxSWhLejhKb0d4SFhIeV9YWnlieHRNS1ctaHBsOXMybG9XMGhLeXV3Iiwic3ViamVjdF90eXBlIjoicHVibGljIiwidGxzX2NsaWVudF9hdXRoX3N1YmplY3RfZG4iOiJDTj1RZXliOVRDMEl6THltcEE5bUtvU1EwLE9VPTAwMTU4MDAwMDEwNDFSYkFBSSxPPU9wZW5CYW5raW5nLEM9R0IiLCJ0b2tlbl9lbmRwb2ludF9hdXRoX21ldGhvZCI6InRsc19jbGllbnRfYXV0aCIsInRva2VuX2VuZHBvaW50X2F1dGhfc2lnbmluZ19hbGciOiJSUzI1NiJ9.T09IY_ndm-RGxYpbICNJw9wbcWz7nsf8PVxXlUXgJ_vzBbWqzrQDFqbboWEqK6sA6CpKH9CybG3sokfJn7RwEIPmmfQJJIpuTu0OXdtIUV26rP_BZePGAFp2obs3cJMA0UUKjkVUGIZ69vKJoeG4SacymD4chzbKh2X9s4elnyjgATulaNV9cUMHX2HD7vWRDKWz4-O1ferx5JyhsfRR4SWlrFmL0x2FLSjnGdz4L31MK0Ja6MbWAUQiVhmuns6bd-aL81EbYdmOjz4f9PNxWky9X9_nHj_FAkojKxxHI1-YakDJaKlpgwVTiocfJXDuzl4JHXSYoQHp3j1bCQpAuw
2019/11/26 10:45:58 making request
2019/11/26 10:45:59 request finished with response status code 400
2019/11/26 10:45:59 setting response object in context var: response
		PASS Assert status code 400
2019/11/26 10:45:59 get response object from ctx var: response
	Test case: Register software client fails on invalid issuer too short
		PASS Generate signed software client claims
2019/11/26 10:45:59 getting claims from authoriser
2019/11/26 10:45:59 setting signed claims in context var: jwt_claims
		PASS Software client register
2019/11/26 10:45:59 get jwt claims from ctx var: jwt_claims
2019/11/26 10:45:59 request:
 POST /dynamic-client-registration/v3.1/register HTTP/1.1
Host: ob19-rs1.o3bank.co.uk:4501
Accept: application/json
Content-Type: application/jwt

eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBsaWNhdGlvbl90eXBlIjoid2ViIiwiYXVkIjoiIiwiZXhwIjoxNTc0NzY4NzU5LCJncmFudF90eXBlcyI6WyJhdXRob3JpemF0aW9uX2NvZGUiLCJjbGllbnRfY3JlZGVudGlhbHMiXSwiaWF0IjoxNTc0NzY1MTU5LCJpZF90b2tlbl9zaWduZWRfcmVzcG9uc2VfYWxnIjoiUlMyNTYiLCJpc3MiOiJRZXliOVRDMEl6THltcEE5bUtvU1EwIiwianRpIjoiZTZlM2YzNDMtMDVkOS00NzRiLTkzZjAtN2E2MmRiZTA5Mzc4Iiwia2lkIjoiWXFMMVMxTVZzaWtua29OcEFNY1hYdWkwVk9RIiwicmVkaXJlY3RfdXJpcyI6WyJodHRwczovLzAuMC4wLjA6ODQ0My9jb25mb3JtYW5jZXN1aXRlL2NhbGxiYWNrIl0sInJlcXVlc3Rfb2JqZWN0X3NpZ25pbmdfYWxnIjoibm9uZSIsInJlc3BvbnNlX3R5cGVzIjpbImNvZGUiLCJjb2RlIGlkX3Rva2VuIl0sInNjb3BlIjoiYWNjb3VudHMgb3BlbmlkIiwic29mdHdhcmVfc3RhdGVtZW50IjoiZXlKaGJHY2lPaUpRVXpJMU5pSXNJbXRwWkNJNkltUlRNMGhGZW5ONVZrcFBUSHBSVmtoSlZXdFBTa1V5U1hGcmJUTjVTR0kwUWxsZlVHSkNSVlJYYWxrOUlpd2lkSGx3SWpvaVNsZFVJbjAuZXlKcGMzTWlPaUpQY0dWdVFtRnVhMmx1WnlCTWRHUWlMQ0pwWVhRaU9qRTFOalU0TmpNMk5qY3NJbXAwYVNJNklqVTVNMlF3WWpoa1lXWmxZalF3TVRjaUxDSnpiMlowZDJGeVpWOWxiblpwY205dWJXVnVkQ0k2SW5OaGJtUmliM2dpTENKemIyWjBkMkZ5WlY5dGIyUmxJam9pVkdWemRDSXNJbk52Wm5SM1lYSmxYMmxrSWpvaVVXVjVZamxVUXpCSmVreDViWEJCT1cxTGIxTlJNQ0lzSW5OdlpuUjNZWEpsWDJOc2FXVnVkRjlwWkNJNklsRmxlV0k1VkVNd1NYcE1lVzF3UVRsdFMyOVRVVEFpTENKemIyWjBkMkZ5WlY5amJHbGxiblJmYm1GdFpTSTZJbkJ5WVhabFpXNWZabU56WDNSbGMzUWlMQ0p6YjJaMGQyRnlaVjlqYkdsbGJuUmZaR1Z6WTNKcGNIUnBiMjRpT2lKVFUwRWdabTl5SUZCeVlYWmxaVzRnZEc4Z2RHVnpkQ0IwYUdVZ1JuVnVZM1JwYjI1aGJDQkRiMjVtYjNKdFlXNWpaU0JUZFdsMFpTQmhaMkZwYm5OMElIWmhjbWx2ZFhNZ1FWTlFVMUJ6TGlJc0luTnZablIzWVhKbFgzWmxjbk5wYjI0aU9qQXVNU3dpYzI5bWRIZGhjbVZmWTJ4cFpXNTBYM1Z5YVNJNkltaDBkSEJ6T2k4dmQzZDNMbVY0WVcxd2JHVXVZMjl0SWl3aWMyOW1kSGRoY21WZmNtVmthWEpsWTNSZmRYSnBjeUk2V3lKb2RIUndjem92THpBdU1DNHdMakE2T0RRME15OWpiMjVtYjNKdFlXNWpaWE4xYVhSbEwyTmhiR3hpWVdOcklpd2lhSFIwY0hNNkx5OHhNamN1TUM0d0xqRTZPRFEwTXk5amIyNW1iM0p0WVc1alpYTjFhWFJsTDJOaGJHeGlZV05ySWl3aWFIUjBjSE02THk5c2IyTmhiR2h2YzNRNk9EUTBNeTlqYjI1bWIzSnRZVzVqWlhOMWFYUmxMMk5oYkd4aVlXTnJJbDBzSW5OdlpuUjNZWEpsWDNKdmJHVnpJanBiSWtGSlUxQWlMQ0pRU1ZOUUlpd2lRMEpRU1VraVhTd2liM0puWVc1cGMyRjBhVzl1WDJOdmJYQmxkR1Z1ZEY5aGRYUm9iM0pwZEhsZlkyeGhhVzF6SWpwN0ltRjFkR2h2Y21sMGVWOXBaQ0k2SWs5Q1IwSlNJaXdpY21WbmFYTjBjbUYwYVc5dVgybGtJam9pVlc1cmJtOTNiakF3TVRVNE1EQXdNREV3TkRGU1lrRkJTU0lzSW5OMFlYUjFjeUk2SWtGamRHbDJaU0lzSW1GMWRHaHZjbWx6WVhScGIyNXpJanBiZXlKdFpXMWlaWEpmYzNSaGRHVWlPaUpIUWlJc0luSnZiR1Z6SWpwYklrRkpVMUFpTENKUVNWTlFJaXdpUTBKUVNVa2lYWDBzZXlKdFpXMWlaWEpmYzNSaGRHVWlPaUpKUlNJc0luSnZiR1Z6SWpwYklrRkpVMUFpTENKUVNWTlFJaXdpUTBKUVNVa2lYWDBzZXlKdFpXMWlaWEpmYzNSaGRHVWlPaUpPVENJc0luSnZiR1Z6SWpwYklrRkpVMUFpTENKUVNWTlFJaXdpUTBKUVNVa2lYWDFkZlN3aWMyOW1kSGRoY21WZmJHOW5iMTkxY21raU9pSm9kSFJ3Y3pvdkwzZDNkeTVsZUdGdGNHeGxMbU52YlM5c2IyZHZJaXdpYjNKblgzTjBZWFIxY3lJNklrRmpkR2wyWlNJc0ltOXlaMTlwWkNJNklqQXdNVFU0TURBd01ERXdOREZTWWtGQlNTSXNJbTl5WjE5dVlXMWxJam9pVDNCbGJpQkNZVzVyYVc1bklFeHBiV2wwWldRZ0tFRXBJaXdpYjNKblgyTnZiblJoWTNSeklqcGJleUp1WVcxbElqb2lWR1ZqYUc1cFkyRnNJaXdpWlcxaGFXd2lPaUowWldOb2FXNWpZV3d4TlRZMU1qY3pNelkxUUhSbGMzUXVZMjl0SWl3aWNHaHZibVVpT2lJeE5UWTFNamN6TXpZMUlpd2lkSGx3WlNJNklsUmxZMmh1YVdOaGJDSjlMSHNpYm1GdFpTSTZJa0oxYzJsdVpYTnpJaXdpWlcxaGFXd2lPaUppZFhOcGJtVnpjMnh2ZWpFMU5qVXlOek16TmpSQWRHVnpkQzVqYjIwaUxDSndhRzl1WlNJNklqRTFOalV5TnpNek5qUWlMQ0owZVhCbElqb2lRblZ6YVc1bGMzTWlmVjBzSW05eVoxOXFkMnR6WDJWdVpIQnZhVzUwSWpvaWFIUjBjSE02THk5clpYbHpkRzl5WlM1dmNHVnVZbUZ1YTJsdVozUmxjM1F1YjNKbkxuVnJMekF3TVRVNE1EQXdNREV3TkRGU1lrRkJTUzh3TURFMU9EQXdNREF4TURReFVtSkJRVWt1YW5kcmN5SXNJbTl5WjE5cWQydHpYM0psZG05clpXUmZaVzVrY0c5cGJuUWlPaUpvZEhSd2N6b3ZMMnRsZVhOMGIzSmxMbTl3Wlc1aVlXNXJhVzVuZEdWemRDNXZjbWN1ZFdzdk1EQXhOVGd3TURBd01UQTBNVkppUVVGSkwzSmxkbTlyWldRdk1EQXhOVGd3TURBd01UQTBNVkppUVVGSkxtcDNhM01pTENKemIyWjBkMkZ5WlY5cWQydHpYMlZ1WkhCdmFXNTBJam9pYUhSMGNITTZMeTlyWlhsemRHOXlaUzV2Y0dWdVltRnVhMmx1WjNSbGMzUXViM0puTG5Wckx6QXdNVFU0TURBd01ERXdOREZTWWtGQlNTOVJaWGxpT1ZSRE1FbDZUSGx0Y0VFNWJVdHZVMUV3TG1wM2EzTWlMQ0p6YjJaMGQyRnlaVjlxZDJ0elgzSmxkbTlyWldSZlpXNWtjRzlwYm5RaU9pSm9kSFJ3Y3pvdkwydGxlWE4wYjNKbExtOXdaVzVpWVc1cmFXNW5kR1Z6ZEM1dmNtY3VkV3N2TURBeE5UZ3dNREF3TVRBME1WSmlRVUZKTDNKbGRtOXJaV1F2VVdWNVlqbFVRekJKZWt4NWJYQkJPVzFMYjFOUk1DNXFkMnR6SWl3aWMyOW1kSGRoY21WZmNHOXNhV041WDNWeWFTSTZJbWgwZEhCek9pOHZkM2QzTG1WNFlXMXdiR1V1WTI5dEwzQnZiR2xqZVNJc0luTnZablIzWVhKbFgzUnZjMTkxY21raU9pSm9kSFJ3Y3pvdkwzZDNkeTVsZUdGdGNHeGxMbU52YlM5MGIzTWlMQ0p6YjJaMGQyRnlaVjl2Ymw5aVpXaGhiR1pmYjJaZmIzSm5Jam9pVUhKaGRtVmxiaUJNZEdRaWZRLnBHTGl0WXNobE5QZ3RxX2hjYzdzRVB4MUxVRnJLSzJKOXE0NjdiR1VhcS1KRlBIbW5NeDRESFpBSkZmSUZucnQ0U0JDMFJtb3ZGS0RIWmp2R0tfT1B5NXN3cjdLYTYzOVVyYkVzc3hIWjlhVTBaQU94RWJQTGk4eU9RZ1ZiXzNIbVl6dG5NRURuOHQtb1R1S3dVXzNEaXBpSGNNb1dXZ3l3b2phWllIVG1OZGZfTVRIVnl2V0ZGUnhZMDNId0lqOU1iZmJ1TnlwZmNlMklJaFhQQ3ZCVFN0UGVFdk5WQVlGb0pfNFY1bXFPNkhJd1QyRWpkNVZHZU02TGtOX25hZE5nRlhQQ3h3MGd2bG8xaVJQdmo3aWdBSlNHbW54VnBpUkNCN3NhdVF6N1hSTnAycUloS3o4Sm9HeEhYSHlfWFp5Ynh0TUtXLWhwbDlzMmxvVzBoS3l1dyIsInN1YmplY3RfdHlwZSI6InB1YmxpYyIsInRsc19jbGllbnRfYXV0aF9zdWJqZWN0X2RuIjoiQ049UWV5YjlUQzBJekx5bXBBOW1Lb1NRMCxPVT0wMDE1ODAwMDAxMDQxUmJBQUksTz1PcGVuQmFua2luZyxDPUdCIiwidG9rZW5fZW5kcG9pbnRfYXV0aF9tZXRob2QiOiJ0bHNfY2xpZW50X2F1dGgiLCJ0b2tlbl9lbmRwb2ludF9hdXRoX3NpZ25pbmdfYWxnIjoiUlMyNTYifQ.ULXfOP96_f-SiQrRXHBXkoGPB-vQncJnOKwRRjNyFNz6DtXLLeTabidzcfwBekz5fqWaBESsUZpk0qqsGyAt4ynijOMLKu6V40YdCNC1gyM2cBf1cPVpx4MFI1InQxBO19WaPrjvm2dVl0bQJ0ZQysfO62IS2m1cK1g3EbEwgOOLBg26PmM6f2jrQs7L51kvsyLXfA8oqB1fRlU3G10p9Q473RVtCYQglnNbVTqK6NyCUpa90Jc15otJfc_Qe8WlfxjVNDlkVV-Y-VmWIaXvvWwqyGXq5uszZt7CeQmLI5N8XlvEIPsvSuuVl2srqKzcX7gpoEuikLC_v6uiHECHXw
2019/11/26 10:45:59 making request
2019/11/26 10:45:59 request finished with response status code 400
2019/11/26 10:45:59 setting response object in context var: response
		PASS Assert status code 400
2019/11/26 10:45:59 get response object from ctx var: response
	Test case: Register software client fails on invalid issuer too long
		PASS Generate signed software client claims
2019/11/26 10:45:59 getting claims from authoriser
2019/11/26 10:45:59 setting signed claims in context var: jwt_claims
		PASS Software client register
2019/11/26 10:45:59 get jwt claims from ctx var: jwt_claims
2019/11/26 10:45:59 request:
 POST /dynamic-client-registration/v3.1/register HTTP/1.1
Host: ob19-rs1.o3bank.co.uk:4501
Accept: application/json
Content-Type: application/jwt

eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBsaWNhdGlvbl90eXBlIjoid2ViIiwiYXVkIjoiMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY3ODkwIiwiZXhwIjoxNTc0NzY4NzU5LCJncmFudF90eXBlcyI6WyJhdXRob3JpemF0aW9uX2NvZGUiLCJjbGllbnRfY3JlZGVudGlhbHMiXSwiaWF0IjoxNTc0NzY1MTU5LCJpZF90b2tlbl9zaWduZWRfcmVzcG9uc2VfYWxnIjoiUlMyNTYiLCJpc3MiOiJRZXliOVRDMEl6THltcEE5bUtvU1EwIiwianRpIjoiNjhjYWViNTAtNGE3Yi00NjFkLWEyMjgtYjlkMzcwMTRiZDY5Iiwia2lkIjoiWXFMMVMxTVZzaWtua29OcEFNY1hYdWkwVk9RIiwicmVkaXJlY3RfdXJpcyI6WyJodHRwczovLzAuMC4wLjA6ODQ0My9jb25mb3JtYW5jZXN1aXRlL2NhbGxiYWNrIl0sInJlcXVlc3Rfb2JqZWN0X3NpZ25pbmdfYWxnIjoibm9uZSIsInJlc3BvbnNlX3R5cGVzIjpbImNvZGUiLCJjb2RlIGlkX3Rva2VuIl0sInNjb3BlIjoiYWNjb3VudHMgb3BlbmlkIiwic29mdHdhcmVfc3RhdGVtZW50IjoiZXlKaGJHY2lPaUpRVXpJMU5pSXNJbXRwWkNJNkltUlRNMGhGZW5ONVZrcFBUSHBSVmtoSlZXdFBTa1V5U1hGcmJUTjVTR0kwUWxsZlVHSkNSVlJYYWxrOUlpd2lkSGx3SWpvaVNsZFVJbjAuZXlKcGMzTWlPaUpQY0dWdVFtRnVhMmx1WnlCTWRHUWlMQ0pwWVhRaU9qRTFOalU0TmpNMk5qY3NJbXAwYVNJNklqVTVNMlF3WWpoa1lXWmxZalF3TVRjaUxDSnpiMlowZDJGeVpWOWxiblpwY205dWJXVnVkQ0k2SW5OaGJtUmliM2dpTENKemIyWjBkMkZ5WlY5dGIyUmxJam9pVkdWemRDSXNJbk52Wm5SM1lYSmxYMmxrSWpvaVVXVjVZamxVUXpCSmVreDViWEJCT1cxTGIxTlJNQ0lzSW5OdlpuUjNZWEpsWDJOc2FXVnVkRjlwWkNJNklsRmxlV0k1VkVNd1NYcE1lVzF3UVRsdFMyOVRVVEFpTENKemIyWjBkMkZ5WlY5amJHbGxiblJmYm1GdFpTSTZJbkJ5WVhabFpXNWZabU56WDNSbGMzUWlMQ0p6YjJaMGQyRnlaVjlqYkdsbGJuUmZaR1Z6WTNKcGNIUnBiMjRpT2lKVFUwRWdabTl5SUZCeVlYWmxaVzRnZEc4Z2RHVnpkQ0IwYUdVZ1JuVnVZM1JwYjI1aGJDQkRiMjVtYjNKdFlXNWpaU0JUZFdsMFpTQmhaMkZwYm5OMElIWmhjbWx2ZFhNZ1FWTlFVMUJ6TGlJc0luTnZablIzWVhKbFgzWmxjbk5wYjI0aU9qQXVNU3dpYzI5bWRIZGhjbVZmWTJ4cFpXNTBYM1Z5YVNJNkltaDBkSEJ6T2k4dmQzZDNMbVY0WVcxd2JHVXVZMjl0SWl3aWMyOW1kSGRoY21WZmNtVmthWEpsWTNSZmRYSnBjeUk2V3lKb2RIUndjem92THpBdU1DNHdMakE2T0RRME15OWpiMjVtYjNKdFlXNWpaWE4xYVhSbEwyTmhiR3hpWVdOcklpd2lhSFIwY0hNNkx5OHhNamN1TUM0d0xqRTZPRFEwTXk5amIyNW1iM0p0WVc1alpYTjFhWFJsTDJOaGJHeGlZV05ySWl3aWFIUjBjSE02THk5c2IyTmhiR2h2YzNRNk9EUTBNeTlqYjI1bWIzSnRZVzVqWlhOMWFYUmxMMk5oYkd4aVlXTnJJbDBzSW5OdlpuUjNZWEpsWDNKdmJHVnpJanBiSWtGSlUxQWlMQ0pRU1ZOUUlpd2lRMEpRU1VraVhTd2liM0puWVc1cGMyRjBhVzl1WDJOdmJYQmxkR1Z1ZEY5aGRYUm9iM0pwZEhsZlkyeGhhVzF6SWpwN0ltRjFkR2h2Y21sMGVWOXBaQ0k2SWs5Q1IwSlNJaXdpY21WbmFYTjBjbUYwYVc5dVgybGtJam9pVlc1cmJtOTNiakF3TVRVNE1EQXdNREV3TkRGU1lrRkJTU0lzSW5OMFlYUjFjeUk2SWtGamRHbDJaU0lzSW1GMWRHaHZjbWx6WVhScGIyNXpJanBiZXlKdFpXMWlaWEpmYzNSaGRHVWlPaUpIUWlJc0luSnZiR1Z6SWpwYklrRkpVMUFpTENKUVNWTlFJaXdpUTBKUVNVa2lYWDBzZXlKdFpXMWlaWEpmYzNSaGRHVWlPaUpKUlNJc0luSnZiR1Z6SWpwYklrRkpVMUFpTENKUVNWTlFJaXdpUTBKUVNVa2lYWDBzZXlKdFpXMWlaWEpmYzNSaGRHVWlPaUpPVENJc0luSnZiR1Z6SWpwYklrRkpVMUFpTENKUVNWTlFJaXdpUTBKUVNVa2lYWDFkZlN3aWMyOW1kSGRoY21WZmJHOW5iMTkxY21raU9pSm9kSFJ3Y3pvdkwzZDNkeTVsZUdGdGNHeGxMbU52YlM5c2IyZHZJaXdpYjNKblgzTjBZWFIxY3lJNklrRmpkR2wyWlNJc0ltOXlaMTlwWkNJNklqQXdNVFU0TURBd01ERXdOREZTWWtGQlNTSXNJbTl5WjE5dVlXMWxJam9pVDNCbGJpQkNZVzVyYVc1bklFeHBiV2wwWldRZ0tFRXBJaXdpYjNKblgyTnZiblJoWTNSeklqcGJleUp1WVcxbElqb2lWR1ZqYUc1cFkyRnNJaXdpWlcxaGFXd2lPaUowWldOb2FXNWpZV3d4TlRZMU1qY3pNelkxUUhSbGMzUXVZMjl0SWl3aWNHaHZibVVpT2lJeE5UWTFNamN6TXpZMUlpd2lkSGx3WlNJNklsUmxZMmh1YVdOaGJDSjlMSHNpYm1GdFpTSTZJa0oxYzJsdVpYTnpJaXdpWlcxaGFXd2lPaUppZFhOcGJtVnpjMnh2ZWpFMU5qVXlOek16TmpSQWRHVnpkQzVqYjIwaUxDSndhRzl1WlNJNklqRTFOalV5TnpNek5qUWlMQ0owZVhCbElqb2lRblZ6YVc1bGMzTWlmVjBzSW05eVoxOXFkMnR6WDJWdVpIQnZhVzUwSWpvaWFIUjBjSE02THk5clpYbHpkRzl5WlM1dmNHVnVZbUZ1YTJsdVozUmxjM1F1YjNKbkxuVnJMekF3TVRVNE1EQXdNREV3TkRGU1lrRkJTUzh3TURFMU9EQXdNREF4TURReFVtSkJRVWt1YW5kcmN5SXNJbTl5WjE5cWQydHpYM0psZG05clpXUmZaVzVrY0c5cGJuUWlPaUpvZEhSd2N6b3ZMMnRsZVhOMGIzSmxMbTl3Wlc1aVlXNXJhVzVuZEdWemRDNXZjbWN1ZFdzdk1EQXhOVGd3TURBd01UQTBNVkppUVVGSkwzSmxkbTlyWldRdk1EQXhOVGd3TURBd01UQTBNVkppUVVGSkxtcDNhM01pTENKemIyWjBkMkZ5WlY5cWQydHpYMlZ1WkhCdmFXNTBJam9pYUhSMGNITTZMeTlyWlhsemRHOXlaUzV2Y0dWdVltRnVhMmx1WjNSbGMzUXViM0puTG5Wckx6QXdNVFU0TURBd01ERXdOREZTWWtGQlNTOVJaWGxpT1ZSRE1FbDZUSGx0Y0VFNWJVdHZVMUV3TG1wM2EzTWlMQ0p6YjJaMGQyRnlaVjlxZDJ0elgzSmxkbTlyWldSZlpXNWtjRzlwYm5RaU9pSm9kSFJ3Y3pvdkwydGxlWE4wYjNKbExtOXdaVzVpWVc1cmFXNW5kR1Z6ZEM1dmNtY3VkV3N2TURBeE5UZ3dNREF3TVRBME1WSmlRVUZKTDNKbGRtOXJaV1F2VVdWNVlqbFVRekJKZWt4NWJYQkJPVzFMYjFOUk1DNXFkMnR6SWl3aWMyOW1kSGRoY21WZmNHOXNhV041WDNWeWFTSTZJbWgwZEhCek9pOHZkM2QzTG1WNFlXMXdiR1V1WTI5dEwzQnZiR2xqZVNJc0luTnZablIzWVhKbFgzUnZjMTkxY21raU9pSm9kSFJ3Y3pvdkwzZDNkeTVsZUdGdGNHeGxMbU52YlM5MGIzTWlMQ0p6YjJaMGQyRnlaVjl2Ymw5aVpXaGhiR1pmYjJaZmIzSm5Jam9pVUhKaGRtVmxiaUJNZEdRaWZRLnBHTGl0WXNobE5QZ3RxX2hjYzdzRVB4MUxVRnJLSzJKOXE0NjdiR1VhcS1KRlBIbW5NeDRESFpBSkZmSUZucnQ0U0JDMFJtb3ZGS0RIWmp2R0tfT1B5NXN3cjdLYTYzOVVyYkVzc3hIWjlhVTBaQU94RWJQTGk4eU9RZ1ZiXzNIbVl6dG5NRURuOHQtb1R1S3dVXzNEaXBpSGNNb1dXZ3l3b2phWllIVG1OZGZfTVRIVnl2V0ZGUnhZMDNId0lqOU1iZmJ1TnlwZmNlMklJaFhQQ3ZCVFN0UGVFdk5WQVlGb0pfNFY1bXFPNkhJd1QyRWpkNVZHZU02TGtOX25hZE5nRlhQQ3h3MGd2bG8xaVJQdmo3aWdBSlNHbW54VnBpUkNCN3NhdVF6N1hSTnAycUloS3o4Sm9HeEhYSHlfWFp5Ynh0TUtXLWhwbDlzMmxvVzBoS3l1dyIsInN1YmplY3RfdHlwZSI6InB1YmxpYyIsInRsc19jbGllbnRfYXV0aF9zdWJqZWN0X2RuIjoiQ049UWV5YjlUQzBJekx5bXBBOW1Lb1NRMCxPVT0wMDE1ODAwMDAxMDQxUmJBQUksTz1PcGVuQmFua2luZyxDPUdCIiwidG9rZW5fZW5kcG9pbnRfYXV0aF9tZXRob2QiOiJ0bHNfY2xpZW50X2F1dGgiLCJ0b2tlbl9lbmRwb2ludF9hdXRoX3NpZ25pbmdfYWxnIjoiUlMyNTYifQ.nsO2ullcWTyzPmtLKy2DC4x6vN2VC3SSyItG1djvzIErQ3NtGoVqhJp-BPj1qSARP35MLmnUZjxkeem1reGfRsOYs9G_wuxoEE5U7OALDokefJFRatVYRygyVnQZKuPXQjPZY2xdfRn55z6UQlMeHr-ZdV1BHbLLCVhEkOHl2v92gFD3dsCOHEFD4XuNkzu-hJUo7usDtaQ30wh8yXlQhCV3SeaOTcCR0cqLBQOlCzFrgcXSB9RajhAhrqrRvrxIUMMegE8nGyAIyuZUcp0uhAaOHt28tILdp50NM-3j-heCX9SsWgKLx7VBFIjiE8NKhk0qtfnUmyDnJ1w7i3-Qlw
2019/11/26 10:45:59 making request
2019/11/26 10:45:59 request finished with response status code 400
2019/11/26 10:45:59 setting response object in context var: response
		PASS Assert status code 400
2019/11/26 10:45:59 get response object from ctx var: response
=== Scenario: DCR-005 - Dynamically retrieve a new software client
	Test case: Register software client
		PASS Generate signed software client claims
2019/11/26 10:45:59 getting claims from authoriser
2019/11/26 10:45:59 setting signed claims in context var: jwt_claims
		PASS Software client register
2019/11/26 10:45:59 get jwt claims from ctx var: jwt_claims
2019/11/26 10:45:59 request:
 POST /dynamic-client-registration/v3.1/register HTTP/1.1
Host: ob19-rs1.o3bank.co.uk:4501
Accept: application/json
Content-Type: application/jwt

eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBsaWNhdGlvbl90eXBlIjoid2ViIiwiYXVkIjoiaHR0cHM6Ly9vYjE5LWF1dGgxLXVpLm8zYmFuay5jby51ayIsImV4cCI6MTU3NDc2ODc1OSwiZ3JhbnRfdHlwZXMiOlsiYXV0aG9yaXphdGlvbl9jb2RlIiwiY2xpZW50X2NyZWRlbnRpYWxzIl0sImlhdCI6MTU3NDc2NTE1OSwiaWRfdG9rZW5fc2lnbmVkX3Jlc3BvbnNlX2FsZyI6IlJTMjU2IiwiaXNzIjoiUWV5YjlUQzBJekx5bXBBOW1Lb1NRMCIsImp0aSI6IjgxYzljMTE2LWI0M2UtNGRhNi1iYTQyLWI0MTQ5MTJjZjg3NyIsImtpZCI6IllxTDFTMU1Wc2lrbmtvTnBBTWNYWHVpMFZPUSIsInJlZGlyZWN0X3VyaXMiOlsiaHR0cHM6Ly8wLjAuMC4wOjg0NDMvY29uZm9ybWFuY2VzdWl0ZS9jYWxsYmFjayJdLCJyZXF1ZXN0X29iamVjdF9zaWduaW5nX2FsZyI6Im5vbmUiLCJyZXNwb25zZV90eXBlcyI6WyJjb2RlIiwiY29kZSBpZF90b2tlbiJdLCJzY29wZSI6ImFjY291bnRzIG9wZW5pZCIsInNvZnR3YXJlX3N0YXRlbWVudCI6ImV5SmhiR2NpT2lKUVV6STFOaUlzSW10cFpDSTZJbVJUTTBoRmVuTjVWa3BQVEhwUlZraEpWV3RQU2tVeVNYRnJiVE41U0dJMFFsbGZVR0pDUlZSWGFsazlJaXdpZEhsd0lqb2lTbGRVSW4wLmV5SnBjM01pT2lKUGNHVnVRbUZ1YTJsdVp5Qk1kR1FpTENKcFlYUWlPakUxTmpVNE5qTTJOamNzSW1wMGFTSTZJalU1TTJRd1lqaGtZV1psWWpRd01UY2lMQ0p6YjJaMGQyRnlaVjlsYm5acGNtOXViV1Z1ZENJNkluTmhibVJpYjNnaUxDSnpiMlowZDJGeVpWOXRiMlJsSWpvaVZHVnpkQ0lzSW5OdlpuUjNZWEpsWDJsa0lqb2lVV1Y1WWpsVVF6Qkpla3g1YlhCQk9XMUxiMU5STUNJc0luTnZablIzWVhKbFgyTnNhV1Z1ZEY5cFpDSTZJbEZsZVdJNVZFTXdTWHBNZVcxd1FUbHRTMjlUVVRBaUxDSnpiMlowZDJGeVpWOWpiR2xsYm5SZmJtRnRaU0k2SW5CeVlYWmxaVzVmWm1OelgzUmxjM1FpTENKemIyWjBkMkZ5WlY5amJHbGxiblJmWkdWelkzSnBjSFJwYjI0aU9pSlRVMEVnWm05eUlGQnlZWFpsWlc0Z2RHOGdkR1Z6ZENCMGFHVWdSblZ1WTNScGIyNWhiQ0JEYjI1bWIzSnRZVzVqWlNCVGRXbDBaU0JoWjJGcGJuTjBJSFpoY21sdmRYTWdRVk5RVTFCekxpSXNJbk52Wm5SM1lYSmxYM1psY25OcGIyNGlPakF1TVN3aWMyOW1kSGRoY21WZlkyeHBaVzUwWDNWeWFTSTZJbWgwZEhCek9pOHZkM2QzTG1WNFlXMXdiR1V1WTI5dElpd2ljMjltZEhkaGNtVmZjbVZrYVhKbFkzUmZkWEpwY3lJNld5Sm9kSFJ3Y3pvdkx6QXVNQzR3TGpBNk9EUTBNeTlqYjI1bWIzSnRZVzVqWlhOMWFYUmxMMk5oYkd4aVlXTnJJaXdpYUhSMGNITTZMeTh4TWpjdU1DNHdMakU2T0RRME15OWpiMjVtYjNKdFlXNWpaWE4xYVhSbEwyTmhiR3hpWVdOcklpd2lhSFIwY0hNNkx5OXNiMk5oYkdodmMzUTZPRFEwTXk5amIyNW1iM0p0WVc1alpYTjFhWFJsTDJOaGJHeGlZV05ySWwwc0luTnZablIzWVhKbFgzSnZiR1Z6SWpwYklrRkpVMUFpTENKUVNWTlFJaXdpUTBKUVNVa2lYU3dpYjNKbllXNXBjMkYwYVc5dVgyTnZiWEJsZEdWdWRGOWhkWFJvYjNKcGRIbGZZMnhoYVcxeklqcDdJbUYxZEdodmNtbDBlVjlwWkNJNklrOUNSMEpTSWl3aWNtVm5hWE4wY21GMGFXOXVYMmxrSWpvaVZXNXJibTkzYmpBd01UVTRNREF3TURFd05ERlNZa0ZCU1NJc0luTjBZWFIxY3lJNklrRmpkR2wyWlNJc0ltRjFkR2h2Y21sellYUnBiMjV6SWpwYmV5SnRaVzFpWlhKZmMzUmhkR1VpT2lKSFFpSXNJbkp2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFgwc2V5SnRaVzFpWlhKZmMzUmhkR1VpT2lKSlJTSXNJbkp2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFgwc2V5SnRaVzFpWlhKZmMzUmhkR1VpT2lKT1RDSXNJbkp2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFgxZGZTd2ljMjltZEhkaGNtVmZiRzluYjE5MWNta2lPaUpvZEhSd2N6b3ZMM2QzZHk1bGVHRnRjR3hsTG1OdmJTOXNiMmR2SWl3aWIzSm5YM04wWVhSMWN5STZJa0ZqZEdsMlpTSXNJbTl5WjE5cFpDSTZJakF3TVRVNE1EQXdNREV3TkRGU1lrRkJTU0lzSW05eVoxOXVZVzFsSWpvaVQzQmxiaUJDWVc1cmFXNW5JRXhwYldsMFpXUWdLRUVwSWl3aWIzSm5YMk52Ym5SaFkzUnpJanBiZXlKdVlXMWxJam9pVkdWamFHNXBZMkZzSWl3aVpXMWhhV3dpT2lKMFpXTm9hVzVqWVd3eE5UWTFNamN6TXpZMVFIUmxjM1F1WTI5dElpd2ljR2h2Ym1VaU9pSXhOVFkxTWpjek16WTFJaXdpZEhsd1pTSTZJbFJsWTJodWFXTmhiQ0o5TEhzaWJtRnRaU0k2SWtKMWMybHVaWE56SWl3aVpXMWhhV3dpT2lKaWRYTnBibVZ6YzJ4dmVqRTFOalV5TnpNek5qUkFkR1Z6ZEM1amIyMGlMQ0p3YUc5dVpTSTZJakUxTmpVeU56TXpOalFpTENKMGVYQmxJam9pUW5WemFXNWxjM01pZlYwc0ltOXlaMTlxZDJ0elgyVnVaSEJ2YVc1MElqb2lhSFIwY0hNNkx5OXJaWGx6ZEc5eVpTNXZjR1Z1WW1GdWEybHVaM1JsYzNRdWIzSm5MblZyTHpBd01UVTRNREF3TURFd05ERlNZa0ZCU1M4d01ERTFPREF3TURBeE1EUXhVbUpCUVVrdWFuZHJjeUlzSW05eVoxOXFkMnR6WDNKbGRtOXJaV1JmWlc1a2NHOXBiblFpT2lKb2RIUndjem92TDJ0bGVYTjBiM0psTG05d1pXNWlZVzVyYVc1bmRHVnpkQzV2Y21jdWRXc3ZNREF4TlRnd01EQXdNVEEwTVZKaVFVRkpMM0psZG05clpXUXZNREF4TlRnd01EQXdNVEEwTVZKaVFVRkpMbXAzYTNNaUxDSnpiMlowZDJGeVpWOXFkMnR6WDJWdVpIQnZhVzUwSWpvaWFIUjBjSE02THk5clpYbHpkRzl5WlM1dmNHVnVZbUZ1YTJsdVozUmxjM1F1YjNKbkxuVnJMekF3TVRVNE1EQXdNREV3TkRGU1lrRkJTUzlSWlhsaU9WUkRNRWw2VEhsdGNFRTViVXR2VTFFd0xtcDNhM01pTENKemIyWjBkMkZ5WlY5cWQydHpYM0psZG05clpXUmZaVzVrY0c5cGJuUWlPaUpvZEhSd2N6b3ZMMnRsZVhOMGIzSmxMbTl3Wlc1aVlXNXJhVzVuZEdWemRDNXZjbWN1ZFdzdk1EQXhOVGd3TURBd01UQTBNVkppUVVGSkwzSmxkbTlyWldRdlVXVjVZamxVUXpCSmVreDViWEJCT1cxTGIxTlJNQzVxZDJ0eklpd2ljMjltZEhkaGNtVmZjRzlzYVdONVgzVnlhU0k2SW1oMGRIQnpPaTh2ZDNkM0xtVjRZVzF3YkdVdVkyOXRMM0J2YkdsamVTSXNJbk52Wm5SM1lYSmxYM1J2YzE5MWNta2lPaUpvZEhSd2N6b3ZMM2QzZHk1bGVHRnRjR3hsTG1OdmJTOTBiM01pTENKemIyWjBkMkZ5WlY5dmJsOWlaV2hoYkdaZmIyWmZiM0puSWpvaVVISmhkbVZsYmlCTWRHUWlmUS5wR0xpdFlzaGxOUGd0cV9oY2M3c0VQeDFMVUZyS0sySjlxNDY3YkdVYXEtSkZQSG1uTXg0REhaQUpGZklGbnJ0NFNCQzBSbW92RktESFpqdkdLX09QeTVzd3I3S2E2MzlVcmJFc3N4SFo5YVUwWkFPeEViUExpOHlPUWdWYl8zSG1ZenRuTUVEbjh0LW9UdUt3VV8zRGlwaUhjTW9XV2d5d29qYVpZSFRtTmRmX01USFZ5dldGRlJ4WTAzSHdJajlNYmZidU55cGZjZTJJSWhYUEN2QlRTdFBlRXZOVkFZRm9KXzRWNW1xTzZISXdUMkVqZDVWR2VNNkxrTl9uYWROZ0ZYUEN4dzBndmxvMWlSUHZqN2lnQUpTR21ueFZwaVJDQjdzYXVRejdYUk5wMnFJaEt6OEpvR3hIWEh5X1haeWJ4dE1LVy1ocGw5czJsb1cwaEt5dXciLCJzdWJqZWN0X3R5cGUiOiJwdWJsaWMiLCJ0bHNfY2xpZW50X2F1dGhfc3ViamVjdF9kbiI6IkNOPVFleWI5VEMwSXpMeW1wQTltS29TUTAsT1U9MDAxNTgwMDAwMTA0MVJiQUFJLE89T3BlbkJhbmtpbmcsQz1HQiIsInRva2VuX2VuZHBvaW50X2F1dGhfbWV0aG9kIjoidGxzX2NsaWVudF9hdXRoIiwidG9rZW5fZW5kcG9pbnRfYXV0aF9zaWduaW5nX2FsZyI6IlJTMjU2In0.XXTe4in972J0Dcp_QwwjuSl710QZL94_X1AvAubqIFSy6YTUwJWgOol7bIxGKDvy1Idf_hTNvn-ARj55J-kTD_l7tuXlbVbWpSzJGQEmMkYvkMnlQW8uyt9HrnA3QbGXx-vItzfi0_rOsw5dbJptlqi_k3a4hleo5wpJAzAOKppsQ5dh9r-iekfihLABbQiZsEiigN7BqGVsyk-Y1FDKKGTYZlLTdsbZ3A20YsZT_MlzNnyKmN7qZr-ljCdl08ROqbRabUrsitLbpVBPdSWXdF-OZONsSSDJkgzH90HaRuI_3Q8DphmObS2pEjfWCqg-zbiCuBs9Xvt0NBn_uS5-mA
2019/11/26 10:45:59 making request
2019/11/26 10:45:59 request finished with response status code 201
2019/11/26 10:45:59 setting response object in context var: response
		PASS Assert status code 201
2019/11/26 10:45:59 get response object from ctx var: response
		PASS Decode client register response
2019/11/26 10:45:59 get response object from ctx var: response
2019/11/26 10:45:59 getting client
2019/11/26 10:45:59 register res: {"redirect_uris":["https://0.0.0.0:8443/conformancesuite/callback"],"grant_types":["authorization_code","client_credentials"],"response_types":["code","code id_token"],"scopes":["accounts","openid"],"token_endpoint_auth_method":["tls_client_auth"],"token_endpoint_auth_signing_alg":["RS256"],"id_token_signed_response_alg":"RS256","request_object_signing_alg":["none"],"tls_client_auth_subject_dn":"CN=Qeyb9TC0IzLympA9mKoSQ0,OU=0015800001041RbAAI,O=OpenBanking,C=GB","jwks_uri":"https://keystore.openbankingtest.org.uk/0015800001041RbAAI/Qeyb9TC0IzLympA9mKoSQ0.jwks","client_id":"4b7ec4e7-b99a-4ec9-8d98-504924762262","client_secret":"d739e056-f9ac-4cc3-98c8-d91f549a170c","client_id_issued_at":1574765159326,"client_secret_expires_at":0,"_id":"5ddd0267d8b52d04277bfab8"}
2019/11/26 10:45:59 setting software client in context var: software_client
	Test case: Retrieve client credentials grant
		PASS Client credentials grant
2019/11/26 10:45:59 request:
 POST /token HTTP/1.1
Host: ob19-auth1.o3bank.co.uk:4201
Content-Type: application/x-www-form-urlencoded

client_id=4b7ec4e7-b99a-4ec9-8d98-504924762262&grant_type=client_credentials
2019/11/26 10:45:59 response:
 HTTP/1.1 200 OK
Content-Length: 94
Connection: keep-alive
Content-Type: application/json; charset=utf-8
Date: Tue, 26 Nov 2019 10:45:59 GMT
Etag: W/"5e-5oazqWRtmlV0CzHesyuVqE7nrpc"
Server: nginx/1.14.1
X-Powered-By: Express

{"access_token":"dae0730d-3582-4cc5-8c4e-067a6c94da26","token_type":"Bearer","expires_in":300}
2019/11/26 10:45:59 setting client credentials token in context var: grant_token
	Test case: Retrieve software client
		PASS Software client retrieve
2019/11/26 10:45:59 request:
 GET /dynamic-client-registration/v3.1/register/4b7ec4e7-b99a-4ec9-8d98-504924762262 HTTP/1.1
Host: ob19-rs1.o3bank.co.uk:4501
Authorization: Bearer dae0730d-3582-4cc5-8c4e-067a6c94da26


		PASS Assert status code 200
2019/11/26 10:45:59 get response object from ctx var: response
		FAIL Validate client response schema: schema invalid: json: cannot unmarshal array into Go struct field OBClientRegistrationResponseSchema32.token_endpoint_auth_method of type string, json: cannot unmarshal array into Go struct field OBClientRegistrationResponseSchema32.token_endpoint_auth_method of type string
2019/11/26 10:45:59 get response object from ctx var: response
2019/11/26 10:45:59 response:
 HTTP/1.1 200 OK
Content-Length: 883
Connection: keep-alive
Content-Type: application/json; charset=utf-8
Date: Tue, 26 Nov 2019 10:45:59 GMT
Etag: W/"373-lfRTXMe12fQs1Bfhp/P0fJC1PFU"
Server: nginx/1.14.1
X-Powered-By: Express

{"_id":"5ddd02678e3a3b040d73a8f8","redirect_uris":["https://0.0.0.0:8443/conformancesuite/callback"],"grant_types":["authorization_code","client_credentials"],"response_types":["code","code id_token"],"scopes":["accounts","openid"],"token_endpoint_auth_method":["tls_client_auth"],"token_endpoint_auth_signing_alg":["RS256"],"id_token_signed_response_alg":"RS256","request_object_signing_alg":["none"],"tls_client_auth_subject_dn":"CN=Qeyb9TC0IzLympA9mKoSQ0,OU=0015800001041RbAAI,O=OpenBanking,C=GB","jwks_uri":"https://keystore.openbankingtest.org.uk/0015800001041RbAAI/Qeyb9TC0IzLympA9mKoSQ0.jwks","client_id":"4b7ec4e7-b99a-4ec9-8d98-504924762262","client_secret":"d739e056-f9ac-4cc3-98c8-d91f549a170c","client_id_issued_at":1574765159326,"client_secret_expires_at":0,"bearer":"NGI3ZWM0ZTctYjk5YS00ZWM5LThkOTgtNTA0OTI0NzYyMjYyOmQ3MzllMDU2LWY5YWMtNGNjMy05OGM4LWQ5MWY1NDlhMTcwYw=="}
2019/11/26 10:45:59 cloning response body object
		PASS Decode client retrieve response
	Test case: Delete software client
		PASS Software client delete
2019/11/26 10:45:59 request:
 DELETE /dynamic-client-registration/v3.1/register/4b7ec4e7-b99a-4ec9-8d98-504924762262 HTTP/1.1
Host: ob19-rs1.o3bank.co.uk:4501
Authorization: Bearer dae0730d-3582-4cc5-8c4e-067a6c94da26


2019/11/26 10:45:59 response:
 HTTP/1.1 204 No Content
Connection: keep-alive
Date: Tue, 26 Nov 2019 10:45:59 GMT
Etag: W/"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk"
Server: nginx/1.14.1
X-Powered-By: Express


=== Scenario: DCR-006 - I should not be able to retrieve a registered software if I send invalid credentials
	Test case: Register software client
		PASS Generate signed software client claims
2019/11/26 10:45:59 getting claims from authoriser
2019/11/26 10:45:59 setting signed claims in context var: jwt_claims
		PASS Software client register
2019/11/26 10:45:59 get jwt claims from ctx var: jwt_claims
2019/11/26 10:45:59 request:
 POST /dynamic-client-registration/v3.1/register HTTP/1.1
Host: ob19-rs1.o3bank.co.uk:4501
Accept: application/json
Content-Type: application/jwt

eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBsaWNhdGlvbl90eXBlIjoid2ViIiwiYXVkIjoiaHR0cHM6Ly9vYjE5LWF1dGgxLXVpLm8zYmFuay5jby51ayIsImV4cCI6MTU3NDc2ODc1OSwiZ3JhbnRfdHlwZXMiOlsiYXV0aG9yaXphdGlvbl9jb2RlIiwiY2xpZW50X2NyZWRlbnRpYWxzIl0sImlhdCI6MTU3NDc2NTE1OSwiaWRfdG9rZW5fc2lnbmVkX3Jlc3BvbnNlX2FsZyI6IlJTMjU2IiwiaXNzIjoiUWV5YjlUQzBJekx5bXBBOW1Lb1NRMCIsImp0aSI6IjM3NzJjNDlkLWE1YTgtNGYyNy05MTk5LWRkZmUzMDVmMTgyNSIsImtpZCI6IllxTDFTMU1Wc2lrbmtvTnBBTWNYWHVpMFZPUSIsInJlZGlyZWN0X3VyaXMiOlsiaHR0cHM6Ly8wLjAuMC4wOjg0NDMvY29uZm9ybWFuY2VzdWl0ZS9jYWxsYmFjayJdLCJyZXF1ZXN0X29iamVjdF9zaWduaW5nX2FsZyI6Im5vbmUiLCJyZXNwb25zZV90eXBlcyI6WyJjb2RlIiwiY29kZSBpZF90b2tlbiJdLCJzY29wZSI6ImFjY291bnRzIG9wZW5pZCIsInNvZnR3YXJlX3N0YXRlbWVudCI6ImV5SmhiR2NpT2lKUVV6STFOaUlzSW10cFpDSTZJbVJUTTBoRmVuTjVWa3BQVEhwUlZraEpWV3RQU2tVeVNYRnJiVE41U0dJMFFsbGZVR0pDUlZSWGFsazlJaXdpZEhsd0lqb2lTbGRVSW4wLmV5SnBjM01pT2lKUGNHVnVRbUZ1YTJsdVp5Qk1kR1FpTENKcFlYUWlPakUxTmpVNE5qTTJOamNzSW1wMGFTSTZJalU1TTJRd1lqaGtZV1psWWpRd01UY2lMQ0p6YjJaMGQyRnlaVjlsYm5acGNtOXViV1Z1ZENJNkluTmhibVJpYjNnaUxDSnpiMlowZDJGeVpWOXRiMlJsSWpvaVZHVnpkQ0lzSW5OdlpuUjNZWEpsWDJsa0lqb2lVV1Y1WWpsVVF6Qkpla3g1YlhCQk9XMUxiMU5STUNJc0luTnZablIzWVhKbFgyTnNhV1Z1ZEY5cFpDSTZJbEZsZVdJNVZFTXdTWHBNZVcxd1FUbHRTMjlUVVRBaUxDSnpiMlowZDJGeVpWOWpiR2xsYm5SZmJtRnRaU0k2SW5CeVlYWmxaVzVmWm1OelgzUmxjM1FpTENKemIyWjBkMkZ5WlY5amJHbGxiblJmWkdWelkzSnBjSFJwYjI0aU9pSlRVMEVnWm05eUlGQnlZWFpsWlc0Z2RHOGdkR1Z6ZENCMGFHVWdSblZ1WTNScGIyNWhiQ0JEYjI1bWIzSnRZVzVqWlNCVGRXbDBaU0JoWjJGcGJuTjBJSFpoY21sdmRYTWdRVk5RVTFCekxpSXNJbk52Wm5SM1lYSmxYM1psY25OcGIyNGlPakF1TVN3aWMyOW1kSGRoY21WZlkyeHBaVzUwWDNWeWFTSTZJbWgwZEhCek9pOHZkM2QzTG1WNFlXMXdiR1V1WTI5dElpd2ljMjltZEhkaGNtVmZjbVZrYVhKbFkzUmZkWEpwY3lJNld5Sm9kSFJ3Y3pvdkx6QXVNQzR3TGpBNk9EUTBNeTlqYjI1bWIzSnRZVzVqWlhOMWFYUmxMMk5oYkd4aVlXTnJJaXdpYUhSMGNITTZMeTh4TWpjdU1DNHdMakU2T0RRME15OWpiMjVtYjNKdFlXNWpaWE4xYVhSbEwyTmhiR3hpWVdOcklpd2lhSFIwY0hNNkx5OXNiMk5oYkdodmMzUTZPRFEwTXk5amIyNW1iM0p0WVc1alpYTjFhWFJsTDJOaGJHeGlZV05ySWwwc0luTnZablIzWVhKbFgzSnZiR1Z6SWpwYklrRkpVMUFpTENKUVNWTlFJaXdpUTBKUVNVa2lYU3dpYjNKbllXNXBjMkYwYVc5dVgyTnZiWEJsZEdWdWRGOWhkWFJvYjNKcGRIbGZZMnhoYVcxeklqcDdJbUYxZEdodmNtbDBlVjlwWkNJNklrOUNSMEpTSWl3aWNtVm5hWE4wY21GMGFXOXVYMmxrSWpvaVZXNXJibTkzYmpBd01UVTRNREF3TURFd05ERlNZa0ZCU1NJc0luTjBZWFIxY3lJNklrRmpkR2wyWlNJc0ltRjFkR2h2Y21sellYUnBiMjV6SWpwYmV5SnRaVzFpWlhKZmMzUmhkR1VpT2lKSFFpSXNJbkp2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFgwc2V5SnRaVzFpWlhKZmMzUmhkR1VpT2lKSlJTSXNJbkp2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFgwc2V5SnRaVzFpWlhKZmMzUmhkR1VpT2lKT1RDSXNJbkp2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFgxZGZTd2ljMjltZEhkaGNtVmZiRzluYjE5MWNta2lPaUpvZEhSd2N6b3ZMM2QzZHk1bGVHRnRjR3hsTG1OdmJTOXNiMmR2SWl3aWIzSm5YM04wWVhSMWN5STZJa0ZqZEdsMlpTSXNJbTl5WjE5cFpDSTZJakF3TVRVNE1EQXdNREV3TkRGU1lrRkJTU0lzSW05eVoxOXVZVzFsSWpvaVQzQmxiaUJDWVc1cmFXNW5JRXhwYldsMFpXUWdLRUVwSWl3aWIzSm5YMk52Ym5SaFkzUnpJanBiZXlKdVlXMWxJam9pVkdWamFHNXBZMkZzSWl3aVpXMWhhV3dpT2lKMFpXTm9hVzVqWVd3eE5UWTFNamN6TXpZMVFIUmxjM1F1WTI5dElpd2ljR2h2Ym1VaU9pSXhOVFkxTWpjek16WTFJaXdpZEhsd1pTSTZJbFJsWTJodWFXTmhiQ0o5TEhzaWJtRnRaU0k2SWtKMWMybHVaWE56SWl3aVpXMWhhV3dpT2lKaWRYTnBibVZ6YzJ4dmVqRTFOalV5TnpNek5qUkFkR1Z6ZEM1amIyMGlMQ0p3YUc5dVpTSTZJakUxTmpVeU56TXpOalFpTENKMGVYQmxJam9pUW5WemFXNWxjM01pZlYwc0ltOXlaMTlxZDJ0elgyVnVaSEJ2YVc1MElqb2lhSFIwY0hNNkx5OXJaWGx6ZEc5eVpTNXZjR1Z1WW1GdWEybHVaM1JsYzNRdWIzSm5MblZyTHpBd01UVTRNREF3TURFd05ERlNZa0ZCU1M4d01ERTFPREF3TURBeE1EUXhVbUpCUVVrdWFuZHJjeUlzSW05eVoxOXFkMnR6WDNKbGRtOXJaV1JmWlc1a2NHOXBiblFpT2lKb2RIUndjem92TDJ0bGVYTjBiM0psTG05d1pXNWlZVzVyYVc1bmRHVnpkQzV2Y21jdWRXc3ZNREF4TlRnd01EQXdNVEEwTVZKaVFVRkpMM0psZG05clpXUXZNREF4TlRnd01EQXdNVEEwTVZKaVFVRkpMbXAzYTNNaUxDSnpiMlowZDJGeVpWOXFkMnR6WDJWdVpIQnZhVzUwSWpvaWFIUjBjSE02THk5clpYbHpkRzl5WlM1dmNHVnVZbUZ1YTJsdVozUmxjM1F1YjNKbkxuVnJMekF3TVRVNE1EQXdNREV3TkRGU1lrRkJTUzlSWlhsaU9WUkRNRWw2VEhsdGNFRTViVXR2VTFFd0xtcDNhM01pTENKemIyWjBkMkZ5WlY5cWQydHpYM0psZG05clpXUmZaVzVrY0c5cGJuUWlPaUpvZEhSd2N6b3ZMMnRsZVhOMGIzSmxMbTl3Wlc1aVlXNXJhVzVuZEdWemRDNXZjbWN1ZFdzdk1EQXhOVGd3TURBd01UQTBNVkppUVVGSkwzSmxkbTlyWldRdlVXVjVZamxVUXpCSmVreDViWEJCT1cxTGIxTlJNQzVxZDJ0eklpd2ljMjltZEhkaGNtVmZjRzlzYVdONVgzVnlhU0k2SW1oMGRIQnpPaTh2ZDNkM0xtVjRZVzF3YkdVdVkyOXRMM0J2YkdsamVTSXNJbk52Wm5SM1lYSmxYM1J2YzE5MWNta2lPaUpvZEhSd2N6b3ZMM2QzZHk1bGVHRnRjR3hsTG1OdmJTOTBiM01pTENKemIyWjBkMkZ5WlY5dmJsOWlaV2hoYkdaZmIyWmZiM0puSWpvaVVISmhkbVZsYmlCTWRHUWlmUS5wR0xpdFlzaGxOUGd0cV9oY2M3c0VQeDFMVUZyS0sySjlxNDY3YkdVYXEtSkZQSG1uTXg0REhaQUpGZklGbnJ0NFNCQzBSbW92RktESFpqdkdLX09QeTVzd3I3S2E2MzlVcmJFc3N4SFo5YVUwWkFPeEViUExpOHlPUWdWYl8zSG1ZenRuTUVEbjh0LW9UdUt3VV8zRGlwaUhjTW9XV2d5d29qYVpZSFRtTmRmX01USFZ5dldGRlJ4WTAzSHdJajlNYmZidU55cGZjZTJJSWhYUEN2QlRTdFBlRXZOVkFZRm9KXzRWNW1xTzZISXdUMkVqZDVWR2VNNkxrTl9uYWROZ0ZYUEN4dzBndmxvMWlSUHZqN2lnQUpTR21ueFZwaVJDQjdzYXVRejdYUk5wMnFJaEt6OEpvR3hIWEh5X1haeWJ4dE1LVy1ocGw5czJsb1cwaEt5dXciLCJzdWJqZWN0X3R5cGUiOiJwdWJsaWMiLCJ0bHNfY2xpZW50X2F1dGhfc3ViamVjdF9kbiI6IkNOPVFleWI5VEMwSXpMeW1wQTltS29TUTAsT1U9MDAxNTgwMDAwMTA0MVJiQUFJLE89T3BlbkJhbmtpbmcsQz1HQiIsInRva2VuX2VuZHBvaW50X2F1dGhfbWV0aG9kIjoidGxzX2NsaWVudF9hdXRoIiwidG9rZW5fZW5kcG9pbnRfYXV0aF9zaWduaW5nX2FsZyI6IlJTMjU2In0.L7UpPv-6QATCQKaHpbtIOROXJ1kTx0hopsk1U7-las5-X9JAhYy35FqKTPeYbAz47QtD7j7Kh5NVjZyhMGrhaP14ozIvTJ5nATROu5jgkGDN0CqrHbGaH-hJ0nBN-XtTT1oF2dBHij5Cp3tSeJDxFxWYTbrzvOzG454G64_-w3GaglA5K2SPXfSVpw71BQRWpQhk5FjE2nVh7WBNovDD5bU0dcj5VrLb9kL_3e8f3TzdvpoR7jhsYlCSufgd4NZKN-upfv9z1u-IoovIbQJoXIusSWmjmquq0B5Fzz9LA4BMfrSPHX3idZn4zaiK0fh_OLb_8S_5tVg52pUTuI2XWA
2019/11/26 10:45:59 making request
2019/11/26 10:45:59 request finished with response status code 201
2019/11/26 10:45:59 setting response object in context var: response
		PASS Assert status code 201
2019/11/26 10:45:59 get response object from ctx var: response
		PASS Decode client register response
2019/11/26 10:45:59 get response object from ctx var: response
2019/11/26 10:45:59 getting client
2019/11/26 10:45:59 register res: {"redirect_uris":["https://0.0.0.0:8443/conformancesuite/callback"],"grant_types":["authorization_code","client_credentials"],"response_types":["code","code id_token"],"scopes":["accounts","openid"],"token_endpoint_auth_method":["tls_client_auth"],"token_endpoint_auth_signing_alg":["RS256"],"id_token_signed_response_alg":"RS256","request_object_signing_alg":["none"],"tls_client_auth_subject_dn":"CN=Qeyb9TC0IzLympA9mKoSQ0,OU=0015800001041RbAAI,O=OpenBanking,C=GB","jwks_uri":"https://keystore.openbankingtest.org.uk/0015800001041RbAAI/Qeyb9TC0IzLympA9mKoSQ0.jwks","client_id":"90559c46-1d67-45cf-bcf0-e846085613d1","client_secret":"d812baa1-79c3-4b5e-92df-7ce3e82b3d1b","client_id_issued_at":1574765159593,"client_secret_expires_at":0,"_id":"5ddd0267d8b52d04277bfabb"}
2019/11/26 10:45:59 setting software client in context var: software_client
	Test case: Retrieve software client with invalid credentials should not succeed
		PASS Set invalid grant token
2019/11/26 10:45:59 setting invalid client credentials token in context var: grant_token
		PASS Software client retrieve
2019/11/26 10:45:59 request:
 GET /dynamic-client-registration/v3.1/register/90559c46-1d67-45cf-bcf0-e846085613d1 HTTP/1.1
Host: ob19-rs1.o3bank.co.uk:4501
Authorization: Bearer


		PASS Assert status code 401
2019/11/26 10:45:59 get response object from ctx var: response
	Test case: Retrieve client credentials grant
		PASS Client credentials grant
2019/11/26 10:45:59 request:
 POST /token HTTP/1.1
Host: ob19-auth1.o3bank.co.uk:4201
Content-Type: application/x-www-form-urlencoded

client_id=90559c46-1d67-45cf-bcf0-e846085613d1&grant_type=client_credentials
2019/11/26 10:45:59 response:
 HTTP/1.1 200 OK
Content-Length: 94
Connection: keep-alive
Content-Type: application/json; charset=utf-8
Date: Tue, 26 Nov 2019 10:45:59 GMT
Etag: W/"5e-1qvt2BovofyDv4ELNl1kZdxFsO0"
Server: nginx/1.14.1
X-Powered-By: Express

{"access_token":"e6efa7a2-bb08-48a7-96f4-d6c2a9b89766","token_type":"Bearer","expires_in":300}
2019/11/26 10:45:59 setting client credentials token in context var: grant_token
	Test case: Delete software client
		PASS Software client delete
2019/11/26 10:45:59 request:
 DELETE /dynamic-client-registration/v3.1/register/90559c46-1d67-45cf-bcf0-e846085613d1 HTTP/1.1
Host: ob19-rs1.o3bank.co.uk:4501
Authorization: Bearer e6efa7a2-bb08-48a7-96f4-d6c2a9b89766


2019/11/26 10:45:59 response:
 HTTP/1.1 204 No Content
Connection: keep-alive
Date: Tue, 26 Nov 2019 10:45:59 GMT
Etag: W/"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk"
Server: nginx/1.14.1
X-Powered-By: Express


=== Scenario: DCR-007 - I should not be able to retrieve a registered software if I send invalid credentials
	Test case: Register software client will fail with token endpoint auth method RS256
		PASS Generate signed software client claims
2019/11/26 10:45:59 getting claims from authoriser
2019/11/26 10:45:59 setting signed claims in context var: jwt_claims
		PASS Software client register
2019/11/26 10:45:59 get jwt claims from ctx var: jwt_claims
2019/11/26 10:45:59 request:
 POST /dynamic-client-registration/v3.1/register HTTP/1.1
Host: ob19-rs1.o3bank.co.uk:4501
Accept: application/json
Content-Type: application/jwt

eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBsaWNhdGlvbl90eXBlIjoid2ViIiwiYXVkIjoiaHR0cHM6Ly9vYjE5LWF1dGgxLXVpLm8zYmFuay5jby51ayIsImV4cCI6MTU3NDc2ODc1OSwiZ3JhbnRfdHlwZXMiOlsiYXV0aG9yaXphdGlvbl9jb2RlIiwiY2xpZW50X2NyZWRlbnRpYWxzIl0sImlhdCI6MTU3NDc2NTE1OSwiaWRfdG9rZW5fc2lnbmVkX3Jlc3BvbnNlX2FsZyI6IlJTMjU2IiwiaXNzIjoiUWV5YjlUQzBJekx5bXBBOW1Lb1NRMCIsImp0aSI6ImZkMjBmZWNlLTIxYWEtNDA4My1hMThmLTQ3YzMxNmQzZDM0ZCIsImtpZCI6IllxTDFTMU1Wc2lrbmtvTnBBTWNYWHVpMFZPUSIsInJlZGlyZWN0X3VyaXMiOlsiaHR0cHM6Ly8wLjAuMC4wOjg0NDMvY29uZm9ybWFuY2VzdWl0ZS9jYWxsYmFjayJdLCJyZXF1ZXN0X29iamVjdF9zaWduaW5nX2FsZyI6Im5vbmUiLCJyZXNwb25zZV90eXBlcyI6WyJjb2RlIiwiY29kZSBpZF90b2tlbiJdLCJzY29wZSI6ImFjY291bnRzIG9wZW5pZCIsInNvZnR3YXJlX3N0YXRlbWVudCI6ImV5SmhiR2NpT2lKUVV6STFOaUlzSW10cFpDSTZJbVJUTTBoRmVuTjVWa3BQVEhwUlZraEpWV3RQU2tVeVNYRnJiVE41U0dJMFFsbGZVR0pDUlZSWGFsazlJaXdpZEhsd0lqb2lTbGRVSW4wLmV5SnBjM01pT2lKUGNHVnVRbUZ1YTJsdVp5Qk1kR1FpTENKcFlYUWlPakUxTmpVNE5qTTJOamNzSW1wMGFTSTZJalU1TTJRd1lqaGtZV1psWWpRd01UY2lMQ0p6YjJaMGQyRnlaVjlsYm5acGNtOXViV1Z1ZENJNkluTmhibVJpYjNnaUxDSnpiMlowZDJGeVpWOXRiMlJsSWpvaVZHVnpkQ0lzSW5OdlpuUjNZWEpsWDJsa0lqb2lVV1Y1WWpsVVF6Qkpla3g1YlhCQk9XMUxiMU5STUNJc0luTnZablIzWVhKbFgyTnNhV1Z1ZEY5cFpDSTZJbEZsZVdJNVZFTXdTWHBNZVcxd1FUbHRTMjlUVVRBaUxDSnpiMlowZDJGeVpWOWpiR2xsYm5SZmJtRnRaU0k2SW5CeVlYWmxaVzVmWm1OelgzUmxjM1FpTENKemIyWjBkMkZ5WlY5amJHbGxiblJmWkdWelkzSnBjSFJwYjI0aU9pSlRVMEVnWm05eUlGQnlZWFpsWlc0Z2RHOGdkR1Z6ZENCMGFHVWdSblZ1WTNScGIyNWhiQ0JEYjI1bWIzSnRZVzVqWlNCVGRXbDBaU0JoWjJGcGJuTjBJSFpoY21sdmRYTWdRVk5RVTFCekxpSXNJbk52Wm5SM1lYSmxYM1psY25OcGIyNGlPakF1TVN3aWMyOW1kSGRoY21WZlkyeHBaVzUwWDNWeWFTSTZJbWgwZEhCek9pOHZkM2QzTG1WNFlXMXdiR1V1WTI5dElpd2ljMjltZEhkaGNtVmZjbVZrYVhKbFkzUmZkWEpwY3lJNld5Sm9kSFJ3Y3pvdkx6QXVNQzR3TGpBNk9EUTBNeTlqYjI1bWIzSnRZVzVqWlhOMWFYUmxMMk5oYkd4aVlXTnJJaXdpYUhSMGNITTZMeTh4TWpjdU1DNHdMakU2T0RRME15OWpiMjVtYjNKdFlXNWpaWE4xYVhSbEwyTmhiR3hpWVdOcklpd2lhSFIwY0hNNkx5OXNiMk5oYkdodmMzUTZPRFEwTXk5amIyNW1iM0p0WVc1alpYTjFhWFJsTDJOaGJHeGlZV05ySWwwc0luTnZablIzWVhKbFgzSnZiR1Z6SWpwYklrRkpVMUFpTENKUVNWTlFJaXdpUTBKUVNVa2lYU3dpYjNKbllXNXBjMkYwYVc5dVgyTnZiWEJsZEdWdWRGOWhkWFJvYjNKcGRIbGZZMnhoYVcxeklqcDdJbUYxZEdodmNtbDBlVjlwWkNJNklrOUNSMEpTSWl3aWNtVm5hWE4wY21GMGFXOXVYMmxrSWpvaVZXNXJibTkzYmpBd01UVTRNREF3TURFd05ERlNZa0ZCU1NJc0luTjBZWFIxY3lJNklrRmpkR2wyWlNJc0ltRjFkR2h2Y21sellYUnBiMjV6SWpwYmV5SnRaVzFpWlhKZmMzUmhkR1VpT2lKSFFpSXNJbkp2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFgwc2V5SnRaVzFpWlhKZmMzUmhkR1VpT2lKSlJTSXNJbkp2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFgwc2V5SnRaVzFpWlhKZmMzUmhkR1VpT2lKT1RDSXNJbkp2YkdWeklqcGJJa0ZKVTFBaUxDSlFTVk5RSWl3aVEwSlFTVWtpWFgxZGZTd2ljMjltZEhkaGNtVmZiRzluYjE5MWNta2lPaUpvZEhSd2N6b3ZMM2QzZHk1bGVHRnRjR3hsTG1OdmJTOXNiMmR2SWl3aWIzSm5YM04wWVhSMWN5STZJa0ZqZEdsMlpTSXNJbTl5WjE5cFpDSTZJakF3TVRVNE1EQXdNREV3TkRGU1lrRkJTU0lzSW05eVoxOXVZVzFsSWpvaVQzQmxiaUJDWVc1cmFXNW5JRXhwYldsMFpXUWdLRUVwSWl3aWIzSm5YMk52Ym5SaFkzUnpJanBiZXlKdVlXMWxJam9pVkdWamFHNXBZMkZzSWl3aVpXMWhhV3dpT2lKMFpXTm9hVzVqWVd3eE5UWTFNamN6TXpZMVFIUmxjM1F1WTI5dElpd2ljR2h2Ym1VaU9pSXhOVFkxTWpjek16WTFJaXdpZEhsd1pTSTZJbFJsWTJodWFXTmhiQ0o5TEhzaWJtRnRaU0k2SWtKMWMybHVaWE56SWl3aVpXMWhhV3dpT2lKaWRYTnBibVZ6YzJ4dmVqRTFOalV5TnpNek5qUkFkR1Z6ZEM1amIyMGlMQ0p3YUc5dVpTSTZJakUxTmpVeU56TXpOalFpTENKMGVYQmxJam9pUW5WemFXNWxjM01pZlYwc0ltOXlaMTlxZDJ0elgyVnVaSEJ2YVc1MElqb2lhSFIwY0hNNkx5OXJaWGx6ZEc5eVpTNXZjR1Z1WW1GdWEybHVaM1JsYzNRdWIzSm5MblZyTHpBd01UVTRNREF3TURFd05ERlNZa0ZCU1M4d01ERTFPREF3TURBeE1EUXhVbUpCUVVrdWFuZHJjeUlzSW05eVoxOXFkMnR6WDNKbGRtOXJaV1JmWlc1a2NHOXBiblFpT2lKb2RIUndjem92TDJ0bGVYTjBiM0psTG05d1pXNWlZVzVyYVc1bmRHVnpkQzV2Y21jdWRXc3ZNREF4TlRnd01EQXdNVEEwTVZKaVFVRkpMM0psZG05clpXUXZNREF4TlRnd01EQXdNVEEwTVZKaVFVRkpMbXAzYTNNaUxDSnpiMlowZDJGeVpWOXFkMnR6WDJWdVpIQnZhVzUwSWpvaWFIUjBjSE02THk5clpYbHpkRzl5WlM1dmNHVnVZbUZ1YTJsdVozUmxjM1F1YjNKbkxuVnJMekF3TVRVNE1EQXdNREV3TkRGU1lrRkJTUzlSWlhsaU9WUkRNRWw2VEhsdGNFRTViVXR2VTFFd0xtcDNhM01pTENKemIyWjBkMkZ5WlY5cWQydHpYM0psZG05clpXUmZaVzVrY0c5cGJuUWlPaUpvZEhSd2N6b3ZMMnRsZVhOMGIzSmxMbTl3Wlc1aVlXNXJhVzVuZEdWemRDNXZjbWN1ZFdzdk1EQXhOVGd3TURBd01UQTBNVkppUVVGSkwzSmxkbTlyWldRdlVXVjVZamxVUXpCSmVreDViWEJCT1cxTGIxTlJNQzVxZDJ0eklpd2ljMjltZEhkaGNtVmZjRzlzYVdONVgzVnlhU0k2SW1oMGRIQnpPaTh2ZDNkM0xtVjRZVzF3YkdVdVkyOXRMM0J2YkdsamVTSXNJbk52Wm5SM1lYSmxYM1J2YzE5MWNta2lPaUpvZEhSd2N6b3ZMM2QzZHk1bGVHRnRjR3hsTG1OdmJTOTBiM01pTENKemIyWjBkMkZ5WlY5dmJsOWlaV2hoYkdaZmIyWmZiM0puSWpvaVVISmhkbVZsYmlCTWRHUWlmUS5wR0xpdFlzaGxOUGd0cV9oY2M3c0VQeDFMVUZyS0sySjlxNDY3YkdVYXEtSkZQSG1uTXg0REhaQUpGZklGbnJ0NFNCQzBSbW92RktESFpqdkdLX09QeTVzd3I3S2E2MzlVcmJFc3N4SFo5YVUwWkFPeEViUExpOHlPUWdWYl8zSG1ZenRuTUVEbjh0LW9UdUt3VV8zRGlwaUhjTW9XV2d5d29qYVpZSFRtTmRmX01USFZ5dldGRlJ4WTAzSHdJajlNYmZidU55cGZjZTJJSWhYUEN2QlRTdFBlRXZOVkFZRm9KXzRWNW1xTzZISXdUMkVqZDVWR2VNNkxrTl9uYWROZ0ZYUEN4dzBndmxvMWlSUHZqN2lnQUpTR21ueFZwaVJDQjdzYXVRejdYUk5wMnFJaEt6OEpvR3hIWEh5X1haeWJ4dE1LVy1ocGw5czJsb1cwaEt5dXciLCJzdWJqZWN0X3R5cGUiOiJwdWJsaWMiLCJ0bHNfY2xpZW50X2F1dGhfc3ViamVjdF9kbiI6IkNOPVFleWI5VEMwSXpMeW1wQTltS29TUTAsT1U9MDAxNTgwMDAwMTA0MVJiQUFJLE89T3BlbkJhbmtpbmcsQz1HQiIsInRva2VuX2VuZHBvaW50X2F1dGhfbWV0aG9kIjoidGxzX2NsaWVudF9hdXRoIiwidG9rZW5fZW5kcG9pbnRfYXV0aF9zaWduaW5nX2FsZyI6IlJTMjU2In0.OTtcKsz9LFt1tlZsKqa0d_Zt-w8PR6Zywy7DgrEt2A6wIkG4YZOA02ca6i_0ICFai4qQg1jQlnY5UTfr7lOxAxbatpCC3oLqVxtWJ4aG9YfLH-iN9t1LKLJD2KtcW6xZRjAyz_15UyhpbZOyFIgvPnFiHDeuQPSMbZ7AlnDzW4eRbDKajPFNYpBi0TmCFbF232mIegBG97FcVKDoqoFYlWm8zCy7hjbJt3HdoKlEr75fvEh93sWZPRPlceefTR5llulJBh7I6oXrprbL_RxI7qM3PotA3zsSREUW5EMz1zpy_R-XdWy1oUExGrb2sFJrb13ON7CHp20G1p1-qnpPGg
2019/11/26 10:45:59 making request
2019/11/26 10:45:59 request finished with response status code 201
2019/11/26 10:45:59 setting response object in context var: response
		FAIL Assert status code 400: Expecting status code 400 but got 201
2019/11/26 10:45:59 get response object from ctx var: response
2019/11/26 10:45:59 response:
 HTTP/1.1 201 Created
Content-Length: 771
Connection: keep-alive
Content-Type: application/json; charset=utf-8
Date: Tue, 26 Nov 2019 10:45:59 GMT
Etag: W/"303-gPHOY+IykQU6XZAK1HaJHGcyvGo"
Server: nginx/1.14.1
X-Powered-By: Express

{"redirect_uris":["https://0.0.0.0:8443/conformancesuite/callback"],"grant_types":["authorization_code","client_credentials"],"response_types":["code","code id_token"],"scopes":["accounts","openid"],"token_endpoint_auth_method":["tls_client_auth"],"token_endpoint_auth_signing_alg":["RS256"],"id_token_signed_response_alg":"RS256","request_object_signing_alg":["none"],"tls_client_auth_subject_dn":"CN=Qeyb9TC0IzLympA9mKoSQ0,OU=0015800001041RbAAI,O=OpenBanking,C=GB","jwks_uri":"https://keystore.openbankingtest.org.uk/0015800001041RbAAI/Qeyb9TC0IzLympA9mKoSQ0.jwks","client_id":"b1fcaaa0-aef2-4392-9eca-3989a8b1b399","client_secret":"dda347de-ba6b-4032-830c-215058142489","client_id_issued_at":1574765159861,"client_secret_expires_at":0,"_id":"5ddd0267d8b52d04277bfabe"}
DEBU[0002] [hijack] End of stdout